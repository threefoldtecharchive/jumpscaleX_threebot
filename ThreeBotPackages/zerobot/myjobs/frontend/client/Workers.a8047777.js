import{S as r,i as e,s as a,e as t,t as s,a as c,w as o,c as l,b as n,d as i,f as h,g as u,h as f,D as d,E as v,j as E,k,v as T,B as p,r as w,C as m,q as A,F as D,G as b,m as g,n as W,u as N,H as R}from"./index.1069f788.js";import{g as H,f as L}from"./common.becd3e4e.js";import{S as _}from"./Spinner.e8f12525.js";function I(r,e,a){const t=Object.create(r);return t.worker=e[a],t.i=a,t}function S(r){var e,a=new _({});return{c(){a.$$.fragment.c()},l(r){a.$$.fragment.l(r)},m(r,t){g(a,r,t),e=!0},p:W,i(r){e||(A(a.$$.fragment,r),e=!0)},o(r){w(a.$$.fragment,r),e=!1},d(r){N(a,r)}}}function F(r){var e,a,c;return{c(){e=t("div"),a=t("h2"),c=s("There is no Workers matching your criteria")},l(r){e=l(r,"DIV",{},!1);var t=n(e);a=l(t,"H2",{},!1);var s=n(a);c=i(s,"There is no Workers matching your criteria"),s.forEach(h),t.forEach(h)},m(r,t){E(r,e,t),k(e,a),k(a,c)},p:W,i:W,o:W,d(r){r&&h(e)}}}function O(r){var e,a,o,d,v,T,p,w,m,A,D,b,g,N,H,L,_,S,F,O,U,y,V,x,B,G,$,j,C,J,Y,q,K,z,M,Q,X;let Z=r.workers,rr=[];for(let e=0;e<Z.length;e+=1)rr[e]=P(I(r,Z,e));return{c(){e=t("div"),a=t("div"),o=t("div"),d=t("table"),v=t("thead"),T=t("tr"),p=t("th"),w=s("#"),m=c(),A=t("th"),D=s("State"),b=c(),g=t("th"),N=s("Halt"),H=c(),L=t("th"),_=s("Pid"),S=c(),F=t("th"),O=s("Current Job"),U=c(),y=t("th"),V=s("Last Update"),x=c(),B=t("th"),G=s("Time Start"),$=c(),j=t("th"),C=s("Timeout"),J=c(),Y=t("th"),q=s("Type"),K=c(),z=t("th"),M=s("Error"),Q=c(),X=t("tbody");for(let r=0;r<rr.length;r+=1)rr[r].c();this.h()},l(r){e=l(r,"DIV",{},!1);var t=n(e);a=l(t,"DIV",{class:!0},!1);var s=n(a);o=l(s,"DIV",{class:!0},!1);var c=n(o);d=l(c,"TABLE",{class:!0},!1);var f=n(d);v=l(f,"THEAD",{},!1);var E=n(v);T=l(E,"TR",{},!1);var k=n(T);p=l(k,"TH",{scope:!0},!1);var W=n(p);w=i(W,"#"),W.forEach(h),m=u(k),A=l(k,"TH",{scope:!0},!1);var R=n(A);D=i(R,"State"),R.forEach(h),b=u(k),g=l(k,"TH",{scope:!0},!1);var I=n(g);N=i(I,"Halt"),I.forEach(h),H=u(k),L=l(k,"TH",{scope:!0},!1);var P=n(L);_=i(P,"Pid"),P.forEach(h),S=u(k),F=l(k,"TH",{scope:!0},!1);var Z=n(F);O=i(Z,"Current Job"),Z.forEach(h),U=u(k),y=l(k,"TH",{scope:!0},!1);var er=n(y);V=i(er,"Last Update"),er.forEach(h),x=u(k),B=l(k,"TH",{scope:!0},!1);var ar=n(B);G=i(ar,"Time Start"),ar.forEach(h),$=u(k),j=l(k,"TH",{scope:!0},!1);var tr=n(j);C=i(tr,"Timeout"),tr.forEach(h),J=u(k),Y=l(k,"TH",{scope:!0},!1);var sr=n(Y);q=i(sr,"Type"),sr.forEach(h),K=u(k),z=l(k,"TH",{scope:!0},!1);var cr=n(z);M=i(cr,"Error"),cr.forEach(h),k.forEach(h),E.forEach(h),Q=u(f),X=l(f,"TBODY",{},!1);var or=n(X);for(let r=0;r<rr.length;r+=1)rr[r].l(or);or.forEach(h),f.forEach(h),c.forEach(h),s.forEach(h),t.forEach(h),this.h()},h(){f(p,"scope","col"),f(A,"scope","col"),f(g,"scope","col"),f(L,"scope","col"),f(F,"scope","col"),f(y,"scope","col"),f(B,"scope","col"),f(j,"scope","col"),f(Y,"scope","col"),f(z,"scope","col"),f(d,"class","table table-striped"),f(o,"class","col-sm-12"),f(a,"class","row mt-5")},m(r,t){E(r,e,t),k(e,a),k(a,o),k(o,d),k(d,v),k(v,T),k(T,p),k(p,w),k(T,m),k(T,A),k(A,D),k(T,b),k(T,g),k(g,N),k(T,H),k(T,L),k(L,_),k(T,S),k(T,F),k(F,O),k(T,U),k(T,y),k(y,V),k(T,x),k(T,B),k(B,G),k(T,$),k(T,j),k(j,C),k(T,J),k(T,Y),k(Y,q),k(T,K),k(T,z),k(z,M),k(d,Q),k(d,X);for(let r=0;r<rr.length;r+=1)rr[r].m(X,null)},p(r,e){if(r.workers||r.state){let a;for(Z=e.workers,a=0;a<Z.length;a+=1){const t=I(e,Z,a);rr[a]?rr[a].p(r,t):(rr[a]=P(t),rr[a].c(),rr[a].m(X,null))}for(;a<rr.length;a+=1)rr[a].d(1);rr.length=Z.length}},i:W,o:W,d(r){r&&h(e),R(rr,r)}}}function U(r){var e,a,c,o=r.worker.state+"";return{c(){e=t("td"),a=t("span"),c=s(o),this.h()},l(r){e=l(r,"TD",{},!1);var t=n(e);a=l(t,"SPAN",{class:!0},!1);var s=n(a);c=i(s,o),s.forEach(h),t.forEach(h),this.h()},h(){f(a,"class","badge badge-warning")},m(r,t){E(r,e,t),k(e,a),k(a,c)},p(r,e){r.workers&&o!==(o=e.worker.state+"")&&T(c,o)},d(r){r&&h(e)}}}function y(r){var e,a,c,o=r.worker.state+"";return{c(){e=t("td"),a=t("span"),c=s(o),this.h()},l(r){e=l(r,"TD",{},!1);var t=n(e);a=l(t,"SPAN",{class:!0},!1);var s=n(a);c=i(s,o),s.forEach(h),t.forEach(h),this.h()},h(){f(a,"class","badge badge-dark")},m(r,t){E(r,e,t),k(e,a),k(a,c)},p(r,e){r.workers&&o!==(o=e.worker.state+"")&&T(c,o)},d(r){r&&h(e)}}}function V(r){var e,a,c,o=r.worker.state+"";return{c(){e=t("td"),a=t("span"),c=s(o),this.h()},l(r){e=l(r,"TD",{},!1);var t=n(e);a=l(t,"SPAN",{class:!0},!1);var s=n(a);c=i(s,o),s.forEach(h),t.forEach(h),this.h()},h(){f(a,"class","badge badge-secondary")},m(r,t){E(r,e,t),k(e,a),k(a,c)},p(r,e){r.workers&&o!==(o=e.worker.state+"")&&T(c,o)},d(r){r&&h(e)}}}function x(r){var e,a,c,o=r.worker.state+"";return{c(){e=t("td"),a=t("span"),c=s(o),this.h()},l(r){e=l(r,"TD",{},!1);var t=n(e);a=l(t,"SPAN",{class:!0},!1);var s=n(a);c=i(s,o),s.forEach(h),t.forEach(h),this.h()},h(){f(a,"class","badge badge-primary")},m(r,t){E(r,e,t),k(e,a),k(a,c)},p(r,e){r.workers&&o!==(o=e.worker.state+"")&&T(c,o)},d(r){r&&h(e)}}}function B(r){var e,a,c,o=r.worker.state+"";return{c(){e=t("td"),a=t("span"),c=s(o),this.h()},l(r){e=l(r,"TD",{},!1);var t=n(e);a=l(t,"SPAN",{class:!0},!1);var s=n(a);c=i(s,o),s.forEach(h),t.forEach(h),this.h()},h(){f(a,"class","badge badge-danger")},m(r,t){E(r,e,t),k(e,a),k(a,c)},p(r,e){r.workers&&o!==(o=e.worker.state+"")&&T(c,o)},d(r){r&&h(e)}}}function G(r){var e,a,c,o=r.worker.state+"";return{c(){e=t("td"),a=t("span"),c=s(o),this.h()},l(r){e=l(r,"TD",{},!1);var t=n(e);a=l(t,"SPAN",{class:!0},!1);var s=n(a);c=i(s,o),s.forEach(h),t.forEach(h),this.h()},h(){f(a,"class","badge badge-success")},m(r,t){E(r,e,t),k(e,a),k(a,c)},p(r,e){r.workers&&o!==(o=e.worker.state+"")&&T(c,o)},d(r){r&&h(e)}}}function $(r){var e,a,c=r.worker.current_job+"";return{c(){e=t("td"),a=s(c)},l(r){e=l(r,"TD",{},!1);var t=n(e);a=i(t,c),t.forEach(h)},m(r,t){E(r,e,t),k(e,a)},p(r,e){r.workers&&c!==(c=e.worker.current_job+"")&&T(a,c)},d(r){r&&h(e)}}}function j(r){var e,a;return{c(){e=t("td"),a=s("N/A")},l(r){e=l(r,"TD",{},!1);var t=n(e);a=i(t,"N/A"),t.forEach(h)},m(r,t){E(r,e,t),k(e,a)},p:W,d(r){r&&h(e)}}}function P(r){var e,a,o,f,d,v,p,w,m,A,D,b,g,W,N,R,H,L,_,I,S,F,O,P,C,J,Y,q=r.worker.id+"",K=r.worker.halt+"",z=r.worker.pid+"",M=r.worker.last_update+"",Q=r.worker.time_start+"",X=r.worker.timeout+"",Z=r.worker.type+"",rr=r.worker.error+"";function er(r,e){return e.worker.state==e.state.RESULT?G:e.worker.state==e.state.ERROR?B:e.worker.state==e.state.NEW?x:e.worker.state==e.state.HALTED?V:e.worker.state==e.state.WAITING?y:U}var ar=er(0,r),tr=ar(r);function sr(r,e){return 2147483647==e.worker.current_job?j:$}var cr=sr(0,r),or=cr(r);return{c(){e=t("tr"),a=t("td"),o=s(q),f=c(),tr.c(),d=c(),v=t("td"),p=s(K),w=c(),m=t("td"),A=s(z),D=c(),or.c(),b=c(),g=t("td"),W=s(M),N=c(),R=t("td"),H=s(Q),L=c(),_=t("td"),I=s(X),S=c(),F=t("td"),O=s(Z),P=c(),C=t("td"),J=s(rr),Y=c()},l(r){e=l(r,"TR",{},!1);var t=n(e);a=l(t,"TD",{},!1);var s=n(a);o=i(s,q),s.forEach(h),f=u(t),tr.l(t),d=u(t),v=l(t,"TD",{},!1);var c=n(v);p=i(c,K),c.forEach(h),w=u(t),m=l(t,"TD",{},!1);var E=n(m);A=i(E,z),E.forEach(h),D=u(t),or.l(t),b=u(t),g=l(t,"TD",{},!1);var k=n(g);W=i(k,M),k.forEach(h),N=u(t),R=l(t,"TD",{},!1);var T=n(R);H=i(T,Q),T.forEach(h),L=u(t),_=l(t,"TD",{},!1);var U=n(_);I=i(U,X),U.forEach(h),S=u(t),F=l(t,"TD",{},!1);var y=n(F);O=i(y,Z),y.forEach(h),P=u(t),C=l(t,"TD",{},!1);var V=n(C);J=i(V,rr),V.forEach(h),Y=u(t),t.forEach(h)},m(r,t){E(r,e,t),k(e,a),k(a,o),k(e,f),tr.m(e,null),k(e,d),k(e,v),k(v,p),k(e,w),k(e,m),k(m,A),k(e,D),or.m(e,null),k(e,b),k(e,g),k(g,W),k(e,N),k(e,R),k(R,H),k(e,L),k(e,_),k(_,I),k(e,S),k(e,F),k(F,O),k(e,P),k(e,C),k(C,J),k(e,Y)},p(r,a){r.workers&&q!==(q=a.worker.id+"")&&T(o,q),ar===(ar=er(0,a))&&tr?tr.p(r,a):(tr.d(1),(tr=ar(a))&&(tr.c(),tr.m(e,d))),r.workers&&K!==(K=a.worker.halt+"")&&T(p,K),r.workers&&z!==(z=a.worker.pid+"")&&T(A,z),cr===(cr=sr(0,a))&&or?or.p(r,a):(or.d(1),(or=cr(a))&&(or.c(),or.m(e,b))),r.workers&&M!==(M=a.worker.last_update+"")&&T(W,M),r.workers&&Q!==(Q=a.worker.time_start+"")&&T(H,Q),r.workers&&X!==(X=a.worker.timeout+"")&&T(I,X),r.workers&&Z!==(Z=a.worker.type+"")&&T(O,Z),r.workers&&rr!==(rr=a.worker.error+"")&&T(J,rr)},d(r){r&&h(e),tr.d(),or.d()}}}function C(r){var e,a,b,g,W,N,R,H,L,_,I,U,y,V,x,B,G,$,j,P,C,J,Y,q,K,z,M,Q,X,Z,rr,er,ar,tr,sr,cr,or,lr,nr,ir,hr,ur,fr,dr,vr,Er,kr,Tr,pr,wr,mr,Ar,Dr,br,gr,Wr,Nr,Rr,Hr,Lr,_r,Ir,Sr,Fr,Or,Ur,yr,Vr,xr,Br,Gr,$r,jr,Pr,Cr,Jr,Yr,qr=r.workers.length+"",Kr=r.counters.new+"",zr=r.counters.success+"",Mr=r.counters.error+"",Qr=r.counters.halted+"",Xr=r.counters.waiting+"",Zr=[O,F,S],re=[];function ee(r,e){return(null==Gr||r.filteredWorkers||r.isAllWorkersAvailable)&&(Gr=!!(e.filteredWorkers()&&e.filteredWorkers().length>0&&e.isAllWorkersAvailable)),Gr?0:((null==$r||r.filteredWorkers||r.isAllWorkersAvailable)&&($r=!(0!=e.filteredWorkers().length||!e.isAllWorkersAvailable)),$r?1:e.isAllWorkersAvailable?-1:2)}return~(jr=ee(null,r))&&(Pr=re[jr]=Zr[jr](r)),{c(){e=t("h1"),a=s("Workers"),b=c(),g=t("div"),W=t("div"),N=t("button"),R=s("All"),H=c(),L=t("div"),_=t("button"),I=s("New"),U=c(),y=t("div"),V=t("button"),x=s("Success"),B=c(),G=t("div"),$=t("button"),j=s("Failure"),P=c(),C=t("div"),J=t("button"),Y=s("Halted"),q=c(),K=t("div"),z=t("button"),M=s("Waiting"),Q=c(),X=t("div"),Z=t("div"),rr=t("table"),er=t("thead"),ar=t("tr"),tr=t("th"),sr=s("Total"),cr=c(),or=t("th"),lr=s("New"),nr=c(),ir=t("th"),hr=s("Success"),ur=c(),fr=t("th"),dr=s("Failure"),vr=c(),Er=t("th"),kr=s("Halted"),Tr=c(),pr=t("th"),wr=s("Waiting"),mr=c(),Ar=t("tbody"),Dr=t("td"),br=s(qr),gr=c(),Wr=t("td"),Nr=s(Kr),Rr=c(),Hr=t("td"),Lr=s(zr),_r=c(),Ir=t("td"),Sr=s(Mr),Fr=c(),Or=t("td"),Ur=s(Qr),yr=c(),Vr=t("td"),xr=s(Xr),Br=c(),Pr&&Pr.c(),Cr=o(),this.h()},l(r){e=l(r,"H1",{},!1);var t=n(e);a=i(t,"Workers"),t.forEach(h),b=u(r),g=l(r,"DIV",{class:!0},!1);var s=n(g);W=l(s,"DIV",{class:!0},!1);var c=n(W);N=l(c,"BUTTON",{class:!0},!1);var f=n(N);R=i(f,"All"),f.forEach(h),c.forEach(h),H=u(s),L=l(s,"DIV",{class:!0},!1);var d=n(L);_=l(d,"BUTTON",{class:!0},!1);var v=n(_);I=i(v,"New"),v.forEach(h),d.forEach(h),U=u(s),y=l(s,"DIV",{class:!0},!1);var E=n(y);V=l(E,"BUTTON",{class:!0},!1);var k=n(V);x=i(k,"Success"),k.forEach(h),E.forEach(h),B=u(s),G=l(s,"DIV",{class:!0},!1);var T=n(G);$=l(T,"BUTTON",{class:!0},!1);var p=n($);j=i(p,"Failure"),p.forEach(h),T.forEach(h),P=u(s),C=l(s,"DIV",{class:!0},!1);var w=n(C);J=l(w,"BUTTON",{class:!0},!1);var m=n(J);Y=i(m,"Halted"),m.forEach(h),w.forEach(h),q=u(s),K=l(s,"DIV",{class:!0},!1);var A=n(K);z=l(A,"BUTTON",{class:!0},!1);var D=n(z);M=i(D,"Waiting"),D.forEach(h),A.forEach(h),s.forEach(h),Q=u(r),X=l(r,"DIV",{class:!0},!1);var S=n(X);Z=l(S,"DIV",{class:!0},!1);var F=n(Z);rr=l(F,"TABLE",{class:!0},!1);var O=n(rr);er=l(O,"THEAD",{},!1);var Gr=n(er);ar=l(Gr,"TR",{},!1);var $r=n(ar);tr=l($r,"TH",{class:!0,scope:!0},!1);var jr=n(tr);sr=i(jr,"Total"),jr.forEach(h),cr=u($r),or=l($r,"TH",{class:!0,scope:!0},!1);var Jr=n(or);lr=i(Jr,"New"),Jr.forEach(h),nr=u($r),ir=l($r,"TH",{class:!0,scope:!0},!1);var Yr=n(ir);hr=i(Yr,"Success"),Yr.forEach(h),ur=u($r),fr=l($r,"TH",{class:!0,scope:!0},!1);var Zr=n(fr);dr=i(Zr,"Failure"),Zr.forEach(h),vr=u($r),Er=l($r,"TH",{class:!0,scope:!0},!1);var re=n(Er);kr=i(re,"Halted"),re.forEach(h),Tr=u($r),pr=l($r,"TH",{class:!0,scope:!0},!1);var ee=n(pr);wr=i(ee,"Waiting"),ee.forEach(h),$r.forEach(h),Gr.forEach(h),mr=u(O),Ar=l(O,"TBODY",{class:!0},!1);var ae=n(Ar);Dr=l(ae,"TD",{},!1);var te=n(Dr);br=i(te,qr),te.forEach(h),gr=u(ae),Wr=l(ae,"TD",{},!1);var se=n(Wr);Nr=i(se,Kr),se.forEach(h),Rr=u(ae),Hr=l(ae,"TD",{},!1);var ce=n(Hr);Lr=i(ce,zr),ce.forEach(h),_r=u(ae),Ir=l(ae,"TD",{},!1);var oe=n(Ir);Sr=i(oe,Mr),oe.forEach(h),Fr=u(ae),Or=l(ae,"TD",{},!1);var le=n(Or);Ur=i(le,Qr),le.forEach(h),yr=u(ae),Vr=l(ae,"TD",{},!1);var ne=n(Vr);xr=i(ne,Xr),ne.forEach(h),ae.forEach(h),O.forEach(h),F.forEach(h),S.forEach(h),Br=u(r),Pr&&Pr.l(r),Cr=o(),this.h()},h(){f(N,"class","btn"),d(N,"active",r.currentFilter===r.state.ALL),f(W,"class","mr-3"),f(_,"class","btn"),d(_,"active",r.currentFilter===r.state.NEW),f(L,"class","mr-3"),f(V,"class","btn"),d(V,"active",r.currentFilter===r.state.RESULT),f(y,"class","mr-3"),f($,"class","btn"),d($,"active",r.currentFilter===r.state.ERROR),f(G,"class","mr-3"),f(J,"class","btn"),d(J,"active",r.currentFilter===r.state.HALTED),f(C,"class","mr-3"),f(z,"class","btn"),d(z,"active",r.currentFilter===r.state.WAITING),f(K,"class","mr-3"),f(g,"class","d-flex justify-content-start"),f(tr,"class","text-center"),f(tr,"scope","col"),f(or,"class","text-center"),f(or,"scope","col"),f(ir,"class","text-center"),f(ir,"scope","col"),f(fr,"class","text-center"),f(fr,"scope","col"),f(Er,"class","text-center"),f(Er,"scope","col"),f(pr,"class","text-center"),f(pr,"scope","col"),f(Ar,"class","text-center"),f(rr,"class","table table-striped"),f(Z,"class","col-sm-12"),f(X,"class","row mt-5"),Yr=[v(N,"click",r.click_handler),v(_,"click",r.click_handler_1),v(V,"click",r.click_handler_2),v($,"click",r.click_handler_3),v(J,"click",r.click_handler_4),v(z,"click",r.click_handler_5)]},m(r,t){E(r,e,t),k(e,a),E(r,b,t),E(r,g,t),k(g,W),k(W,N),k(N,R),k(g,H),k(g,L),k(L,_),k(_,I),k(g,U),k(g,y),k(y,V),k(V,x),k(g,B),k(g,G),k(G,$),k($,j),k(g,P),k(g,C),k(C,J),k(J,Y),k(g,q),k(g,K),k(K,z),k(z,M),E(r,Q,t),E(r,X,t),k(X,Z),k(Z,rr),k(rr,er),k(er,ar),k(ar,tr),k(tr,sr),k(ar,cr),k(ar,or),k(or,lr),k(ar,nr),k(ar,ir),k(ir,hr),k(ar,ur),k(ar,fr),k(fr,dr),k(ar,vr),k(ar,Er),k(Er,kr),k(ar,Tr),k(ar,pr),k(pr,wr),k(rr,mr),k(rr,Ar),k(Ar,Dr),k(Dr,br),k(Ar,gr),k(Ar,Wr),k(Wr,Nr),k(Ar,Rr),k(Ar,Hr),k(Hr,Lr),k(Ar,_r),k(Ar,Ir),k(Ir,Sr),k(Ar,Fr),k(Ar,Or),k(Or,Ur),k(Ar,yr),k(Ar,Vr),k(Vr,xr),E(r,Br,t),~jr&&re[jr].m(r,t),E(r,Cr,t),Jr=!0},p(r,e){(r.currentFilter||r.state)&&(d(N,"active",e.currentFilter===e.state.ALL),d(_,"active",e.currentFilter===e.state.NEW),d(V,"active",e.currentFilter===e.state.RESULT),d($,"active",e.currentFilter===e.state.ERROR),d(J,"active",e.currentFilter===e.state.HALTED),d(z,"active",e.currentFilter===e.state.WAITING)),Jr&&!r.workers||qr===(qr=e.workers.length+"")||T(br,qr),Jr&&!r.counters||Kr===(Kr=e.counters.new+"")||T(Nr,Kr),Jr&&!r.counters||zr===(zr=e.counters.success+"")||T(Lr,zr),Jr&&!r.counters||Mr===(Mr=e.counters.error+"")||T(Sr,Mr),Jr&&!r.counters||Qr===(Qr=e.counters.halted+"")||T(Ur,Qr),Jr&&!r.counters||Xr===(Xr=e.counters.waiting+"")||T(xr,Xr);var a=jr;(jr=ee(r,e))===a?~jr&&re[jr].p(r,e):(Pr&&(p(),w(re[a],1,1,()=>{re[a]=null}),m()),~jr?((Pr=re[jr])||(Pr=re[jr]=Zr[jr](e)).c(),A(Pr,1),Pr.m(Cr.parentNode,Cr)):Pr=null)},i(r){Jr||(A(Pr),Jr=!0)},o(r){w(Pr),Jr=!1},d(r){r&&(h(e),h(b),h(g),h(Q),h(X),h(Br)),~jr&&re[jr].d(r),r&&h(Cr),D(Yr)}}}function J(r,e,a){const t={RESULT:"OK",ERROR:"ERROR",NEW:"NEW",HALTED:"HALTED",WAITING:"WAITING",ALL:"all"};let s=!1,c={success:0,error:0,new:0,halted:0,waiting:0},o=t.ALL,l=[];function n(){l.forEach(r=>{r.state==t.RESULT?a("counters",c.success++,c):r.state==t.ERROR?a("counters",c.error++,c):r.state==t.NEW?a("counters",c.new++,c):r.state==t.HALTED?a("counters",c.halted++,c):r.state==t.WAITING&&a("counters",c.waiting++,c)})}function i(r){a("currentFilter",o=r)}function h(r){let e=[];return l.forEach(a=>{a.state==r&&e.push(a)}),e}b(async()=>{a("isAllWorkersAvailable",s=!1),H().then(function(r){r&&(a("isAllWorkersAvailable",s=!0),a("workers",l=r.data.workers),l.forEach(r=>{r.state=r.state.toUpperCase(),r.error&&(r.error=JSON.stringify(r.error)),r.time_start=L(r.time_start),r.last_update=L(r.last_update)}),n())}).catch(r=>{console.log(r)})});let u;return r.$$.update=((r={currentFilter:1,workers:1})=>{(r.currentFilter||r.workers)&&a("filteredWorkers",u=(()=>(a("counters",c={success:0,error:0,new:0,halted:0,waiting:0}),n(),o==t.ALL?l:o==t.RESULT?h(t.RESULT):o==t.ERROR?h(t.ERROR):o==t.NEW?h(t.NEW):o==t.HALTED?h(t.HALTED):o==t.WAITING?h(t.WAITING):void 0)))}),{state:t,isAllWorkersAvailable:s,counters:c,currentFilter:o,workers:l,updateFilter:i,filteredWorkers:u,click_handler:()=>i(t.ALL),click_handler_1:()=>i(t.NEW),click_handler_2:()=>i(t.RESULT),click_handler_3:()=>i(t.ERROR),click_handler_4:()=>i(t.HALTED),click_handler_5:()=>i(t.WAITING)}}class Y extends r{constructor(r){super(),e(this,r,J,C,a,[])}}export{Y as W};
