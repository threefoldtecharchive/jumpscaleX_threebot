import{_ as a,a as t,b as n,c as e,i as c,d as r,S as s,s as o,e as l,t as u,f as i,g as p,h,j as g,k as f,m as k,o as d,C as m,r as v,v as E,M as b,N as _,O as T,P as y,n as S,Q as P,R as D,T as C,U as w,K as O,V as A}from"./index.3a9aa9d7.js";function I(a,t,n){var e=Object.create(a);return e.pkg=t[n],e}function N(a){var t,n;return{c:function(){t=l("div"),n=u(a.lastError),this.h()},l:function(e){t=i(e,"DIV",{class:!0,role:!0});var c=p(t);n=h(c,a.lastError),c.forEach(g),this.h()},h:function(){f(t,"class","alert alert-danger"),f(t,"role","alert")},m:function(a,e){k(a,t,e),d(t,n)},p:function(a,t){a.lastError&&m(n,t.lastError)},d:function(a){a&&g(t)}}}function B(a){var t,n,e;function c(){for(var t,n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];return(t=a).click_handler_1.apply(t,[a].concat(e))}return{c:function(){t=l("button"),n=u("Start"),this.h()},l:function(a){t=i(a,"BUTTON",{type:!0,class:!0});var e=p(t);n=h(e,"Start"),e.forEach(g),this.h()},h:function(){f(t,"type","button"),f(t,"class","btn btn-success btn-sm"),e=b(t,"click",c)},m:function(a,e){k(a,t,e),d(t,n)},p:function(t,n){a=n},d:function(a){a&&g(t),e()}}}function G(a){var t,n,e;function c(){for(var t,n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];return(t=a).click_handler_2.apply(t,[a].concat(e))}return{c:function(){t=l("button"),n=u("Stop"),this.h()},l:function(a){t=i(a,"BUTTON",{type:!0,class:!0});var e=p(t);n=h(e,"Stop"),e.forEach(g),this.h()},h:function(){f(t,"type","button"),f(t,"class","btn btn-danger btn-sm"),e=b(t,"click",c)},m:function(a,e){k(a,t,e),d(t,n)},p:function(t,n){a=n},d:function(a){a&&g(t),e()}}}function H(a){var t,n,e;function c(){for(var t,n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];return(t=a).click_handler_3.apply(t,[a].concat(e))}return{c:function(){t=l("button"),n=u("Enable"),this.h()},l:function(a){t=i(a,"BUTTON",{type:!0,class:!0});var e=p(t);n=h(e,"Enable"),e.forEach(g),this.h()},h:function(){f(t,"type","button"),f(t,"class","btn btn-primary btn-sm"),e=b(t,"click",c)},m:function(a,e){k(a,t,e),d(t,n)},p:function(t,n){a=n},d:function(a){a&&g(t),e()}}}function U(a){var t,n,e;function c(){for(var t,n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];return(t=a).click_handler_4.apply(t,[a].concat(e))}return{c:function(){t=l("button"),n=u("Disable"),this.h()},l:function(a){t=i(a,"BUTTON",{type:!0,class:!0});var e=p(t);n=h(e,"Disable"),e.forEach(g),this.h()},h:function(){f(t,"type","button"),f(t,"class","btn btn-light btn-sm"),e=b(t,"click",c)},m:function(a,e){k(a,t,e),d(t,n)},p:function(t,n){a=n},d:function(a){a&&g(t),e()}}}function R(a){var t,n,e;function c(){for(var t,n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];return(t=a).click_handler_5.apply(t,[a].concat(e))}return{c:function(){t=l("button"),n=u("Delete"),this.h()},l:function(a){t=i(a,"BUTTON",{type:!0,class:!0});var e=p(t);n=h(e,"Delete"),e.forEach(g),this.h()},h:function(){f(t,"type","button"),f(t,"class","btn btn-dark btn-sm"),e=b(t,"click",c)},m:function(a,e){k(a,t,e),d(t,n)},p:function(t,n){a=n},d:function(a){a&&g(t),e()}}}function V(a){var t,n,e,c,r,s,o,b,_,T,y,S,P,D,C,w,O=a.pkg.name+"",A=a.pkgStatus[a.pkg.status].name+"",I=a.pkg.path+"",N=a.pkgStatus[a.pkg.status].actions.includes("start"),V=a.pkgStatus[a.pkg.status].actions.includes("stop"),x=a.pkgStatus[a.pkg.status].actions.includes("enable"),M=a.pkgStatus[a.pkg.status].actions.includes("disable"),j=a.pkgStatus[a.pkg.status].actions.includes("delete"),F=N&&B(a),L=V&&G(a),K=x&&H(a),Q=M&&U(a),Y=j&&R(a);return{c:function(){t=l("tr"),n=l("th"),e=u(O),c=v(),r=l("td"),s=u(A),o=v(),b=l("td"),_=u(I),T=v(),y=l("td"),F&&F.c(),S=v(),L&&L.c(),P=v(),K&&K.c(),D=v(),Q&&Q.c(),C=v(),Y&&Y.c(),w=v(),this.h()},l:function(a){t=i(a,"TR",{});var l=p(t);n=i(l,"TH",{scope:!0});var u=p(n);e=h(u,O),u.forEach(g),c=E(l),r=i(l,"TD",{});var f=p(r);s=h(f,A),f.forEach(g),o=E(l),b=i(l,"TD",{});var k=p(b);_=h(k,I),k.forEach(g),T=E(l),y=i(l,"TD",{});var d=p(y);F&&F.l(d),S=E(d),L&&L.l(d),P=E(d),K&&K.l(d),D=E(d),Q&&Q.l(d),C=E(d),Y&&Y.l(d),d.forEach(g),w=E(l),l.forEach(g),this.h()},h:function(){f(n,"scope","row")},m:function(a,l){k(a,t,l),d(t,n),d(n,e),d(t,c),d(t,r),d(r,s),d(t,o),d(t,b),d(b,_),d(t,T),d(t,y),F&&F.m(y,null),d(y,S),L&&L.m(y,null),d(y,P),K&&K.m(y,null),d(y,D),Q&&Q.m(y,null),d(y,C),Y&&Y.m(y,null),d(t,w)},p:function(a,t){a.packages&&O!==(O=t.pkg.name+"")&&m(e,O),a.packages&&A!==(A=t.pkgStatus[t.pkg.status].name+"")&&m(s,A),a.packages&&I!==(I=t.pkg.path+"")&&m(_,I),a.packages&&(N=t.pkgStatus[t.pkg.status].actions.includes("start")),N?F?F.p(a,t):((F=B(t)).c(),F.m(y,S)):F&&(F.d(1),F=null),a.packages&&(V=t.pkgStatus[t.pkg.status].actions.includes("stop")),V?L?L.p(a,t):((L=G(t)).c(),L.m(y,P)):L&&(L.d(1),L=null),a.packages&&(x=t.pkgStatus[t.pkg.status].actions.includes("enable")),x?K?K.p(a,t):((K=H(t)).c(),K.m(y,D)):K&&(K.d(1),K=null),a.packages&&(M=t.pkgStatus[t.pkg.status].actions.includes("disable")),M?Q?Q.p(a,t):((Q=U(t)).c(),Q.m(y,C)):Q&&(Q.d(1),Q=null),a.packages&&(j=t.pkgStatus[t.pkg.status].actions.includes("delete")),j?Y?Y.p(a,t):((Y=R(t)).c(),Y.m(y,null)):Y&&(Y.d(1),Y=null)},d:function(a){a&&g(t),F&&F.d(),L&&L.d(),K&&K.d(),Q&&Q.d(),Y&&Y.d()}}}function x(a){for(var t,n,e,c,r,s,o,m,C,O,A,B,G,H,U,R,x,M,j,F,L,K,Q,Y,q,z,J,W,X,Z,$,aa,ta,na,ea,ca,ra,sa,oa,la,ua,ia,pa,ha,ga=null!=a.lastError&&N(a),fa=a.packages,ka=[],da=0;da<fa.length;da+=1)ka[da]=V(I(a,fa,da));return{c:function(){t=v(),n=l("h2"),e=u("3Bot Package Manager"),c=l("br"),r=l("br"),s=v(),o=l("form"),ga&&ga.c(),m=v(),C=l("div"),O=l("div"),A=l("select"),B=l("option"),G=u("path"),H=l("option"),U=u("giturl"),R=v(),x=l("div"),M=l("div"),j=l("input"),F=v(),L=l("div"),K=l("button"),Q=u("Add package"),Y=v(),q=l("table"),z=l("caption"),J=u("Packages"),W=v(),X=l("thead"),Z=l("tr"),$=l("th"),aa=u("Name"),ta=v(),na=l("th"),ea=u("Status"),ca=v(),ra=l("th"),sa=u("Path"),oa=v(),la=l("th"),ua=u("Actions"),ia=v(),pa=l("tbody");for(var a=0;a<ka.length;a+=1)ka[a].c();this.h()},l:function(a){t=E(a),n=i(a,"H2",{});var l=p(n);e=h(l,"3Bot Package Manager"),l.forEach(g),c=i(a,"BR",{}),r=i(a,"BR",{}),s=E(a),o=i(a,"FORM",{});var u=p(o);ga&&ga.l(u),m=E(u),C=i(u,"DIV",{class:!0});var f=p(C);O=i(f,"DIV",{class:!0});var k=p(O);A=i(k,"SELECT",{class:!0,id:!0});var d=p(A);B=i(d,"OPTION",{value:!0,selected:!0});var v=p(B);G=h(v,"path"),v.forEach(g),H=i(d,"OPTION",{value:!0});var b=p(H);U=h(b,"giturl"),b.forEach(g),d.forEach(g),k.forEach(g),R=E(f),x=i(f,"DIV",{class:!0});var _=p(x);M=i(_,"DIV",{class:!0});var T=p(M);j=i(T,"INPUT",{type:!0,class:!0,id:!0}),T.forEach(g),_.forEach(g),F=E(f),L=i(f,"DIV",{class:!0});var y=p(L);K=i(y,"BUTTON",{type:!0,class:!0});var S=p(K);Q=h(S,"Add package"),S.forEach(g),y.forEach(g),f.forEach(g),u.forEach(g),Y=E(a),q=i(a,"TABLE",{class:!0,style:!0});var P=p(q);z=i(P,"CAPTION",{});var D=p(z);J=h(D,"Packages"),D.forEach(g),W=E(P),X=i(P,"THEAD",{});var w=p(X);Z=i(w,"TR",{});var I=p(Z);$=i(I,"TH",{scope:!0});var N=p($);aa=h(N,"Name"),N.forEach(g),ta=E(I),na=i(I,"TH",{scope:!0});var V=p(na);ea=h(V,"Status"),V.forEach(g),ca=E(I),ra=i(I,"TH",{scope:!0});var ha=p(ra);sa=h(ha,"Path"),ha.forEach(g),oa=E(I),la=i(I,"TH",{scope:!0});var fa=p(la);ua=h(fa,"Actions"),fa.forEach(g),I.forEach(g),w.forEach(g),ia=E(P),pa=i(P,"TBODY",{});for(var da=p(pa),ma=0;ma<ka.length;ma+=1)ka[ma].l(da);da.forEach(g),P.forEach(g),this.h()},h:function(){document.title="3bot Package Manager",B.__value="path",B.value=B.__value,B.selected=!0,H.__value="git_url",H.value=H.__value,f(A,"class","custom-select mr-sm-3"),f(A,"id","inlineFormCustomSelect"),void 0===a.method&&w(function(){return a.select_change_handler.call(A)}),f(O,"class","col-auto"),f(j,"type","text"),f(j,"class","form-control"),f(j,"id","inlineFormInputGroup"),f(M,"class","input-group mb-2"),f(x,"class","col-6"),f(K,"type","button"),f(K,"class","btn btn-primary mb-2"),f(L,"class","col-auto"),f(C,"class","form-row align-items-center"),f($,"scope","col"),f(na,"scope","col"),f(ra,"scope","col"),f(la,"scope","col"),f(q,"class","table"),_(q,"margin-top","20px"),ha=[b(A,"change",a.select_change_handler),b(j,"input",a.input_input_handler),b(K,"click",a.click_handler)]},m:function(l,u){k(l,t,u),k(l,n,u),d(n,e),k(l,c,u),k(l,r,u),k(l,s,u),k(l,o,u),ga&&ga.m(o,null),d(o,m),d(o,C),d(C,O),d(O,A),d(A,B),d(B,G),d(A,H),d(H,U),T(A,a.method),d(C,R),d(C,x),d(x,M),d(M,j),y(j,a.newPackagePath),d(C,F),d(C,L),d(L,K),d(K,Q),k(l,Y,u),k(l,q,u),d(q,z),d(z,J),d(q,W),d(q,X),d(X,Z),d(Z,$),d($,aa),d(Z,ta),d(Z,na),d(na,ea),d(Z,ca),d(Z,ra),d(ra,sa),d(Z,oa),d(Z,la),d(la,ua),d(q,ia),d(q,pa);for(var i=0;i<ka.length;i+=1)ka[i].m(pa,null)},p:function(a,t){if(null!=t.lastError?ga?ga.p(a,t):((ga=N(t)).c(),ga.m(o,m)):ga&&(ga.d(1),ga=null),a.method&&T(A,t.method),a.newPackagePath&&j.value!==t.newPackagePath&&y(j,t.newPackagePath),a.pkgStatus||a.packages||a.packageDelete||a.packageDisable||a.packageEnable||a.packageStop||a.packageStart){var n;for(fa=t.packages,n=0;n<fa.length;n+=1){var e=I(t,fa,n);ka[n]?ka[n].p(a,e):(ka[n]=V(e),ka[n].c(),ka[n].m(pa,null))}for(;n<ka.length;n+=1)ka[n].d(1);ka.length=fa.length}},i:S,o:S,d:function(a){a&&g(t),a&&g(n),a&&g(c),a&&g(r),a&&g(s),a&&g(o),ga&&ga.d(),a&&g(Y),a&&g(q),P(ka,a),D(ha)}}}function M(a,t,n){var e="path",c="",r=null,s=[];function o(){packageGedisClient.threefold.packagemanager.actors.package_manager.packages_list().then(function(a){if(!a.ok){var t=new Error(a);throw n("lastError",r=t),t}a.json().then(function(a){n("packages",s=a.packages),n("lastError",r=null)})})}function l(){var a={};a[e]=c,packageGedisClient.threefold.packagemanager.actors.package_manager.package_add(a).then(function(a){a.ok?(n("lastError",r=null),o()):n("lastError",r="Couldn't add package "+c)})}function u(a){var t={name:a};packageGedisClient.threefold.packagemanager.actors.package_manager.package_enable(t).then(function(t){t.ok?(n("lastError",r=null),o()):n("lastError",r="Couldn't enable package "+a)})}function i(a){var t={name:a};packageGedisClient.threefold.packagemanager.actors.package_manager.spackage_disable(t).then(function(t){t.ok?(n("lastError",r=null),o()):n("lastError",r="Couldn't disable package "+a)})}function p(a){var t={name:a};packageGedisClient.threefold.packagemanager.actors.package_manager.package_stop(t).then(function(t){t.ok?(n("lastError",r=null),o()):n("lastError",r="Couldn't stop package "+a)})}function h(a){var t={name:a};packageGedisClient.threefold.packagemanager.actors.package_manager.package_start(t).then(function(t){t.ok?(n("lastError",r=null),o()):n("lastError",r="Couldn't start package "+a)})}function g(a){var t={name:a};packageGedisClient.threefold.packagemanager.actors.package_manager.package_delete(t).then(function(t){t.ok?(n("lastError",r=null),o()):n("lastError",r="Couldn't delete package "+a)})}C(function(){return O.async(function(a){for(;;)switch(a.prev=a.next){case 0:o();case 1:case"end":return a.stop()}})});return{method:e,newPackagePath:c,lastError:r,packages:s,pkgStatus:{0:{name:"Init",actions:["delete"]},1:{name:"Installed",actions:["delete","start"]},2:{name:"Running",actions:["delete","stop"]},3:{name:"Halted",actions:["delete","start","disable"]},4:{name:"Disabled",actions:["delete","enable"]},5:{name:"Error",actions:["delete"]}},packageAdd:l,packageEnable:u,packageDisable:i,packageStop:p,packageStart:h,packageDelete:g,select_change_handler:function(){e=A(this),n("method",e)},input_input_handler:function(){c=this.value,n("newPackagePath",c)},click_handler:function(){return l()},click_handler_1:function(a){return h(a.pkg.name)},click_handler_2:function(a){return p(a.pkg.name)},click_handler_3:function(a){return u(a.pkg.name)},click_handler_4:function(a){return i(a.pkg.name)},click_handler_5:function(a){return g(a.pkg.name)}}}export default(function(l){function u(a){var s;return t(this,u),s=n(this,e(u).call(this)),c(r(s),a,M,x,o,{}),s}return a(u,s),u}());
