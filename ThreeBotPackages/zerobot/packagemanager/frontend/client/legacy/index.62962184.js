import{_ as a,a as t,b as n,c as e,i as c,d as r,S as s,s as o,e as l,t as u,f as i,g as p,h,j as f,k as g,m as d,o as k,C as m,r as v,v as E,M as b,N as _,O as T,P as y,n as S,Q as P,R as D,T as C,U as w,K as O,V as A}from"./index.3a9aa9d7.js";function I(a,t,n){var e=Object.create(a);return e.pkg=t[n],e}function N(a){var t,n;return{c:function(){t=l("div"),n=u(a.lastError),this.h()},l:function(e){t=i(e,"DIV",{class:!0,role:!0});var c=p(t);n=h(c,a.lastError),c.forEach(f),this.h()},h:function(){g(t,"class","alert alert-danger"),g(t,"role","alert")},m:function(a,e){d(a,t,e),k(t,n)},p:function(a,t){a.lastError&&m(n,t.lastError)},d:function(a){a&&f(t)}}}function B(a){var t,n,e;function c(){for(var t,n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];return(t=a).click_handler_1.apply(t,[a].concat(e))}return{c:function(){t=l("button"),n=u("Start"),this.h()},l:function(a){t=i(a,"BUTTON",{type:!0,class:!0});var e=p(t);n=h(e,"Start"),e.forEach(f),this.h()},h:function(){g(t,"type","button"),g(t,"class","btn btn-success btn-sm"),e=b(t,"click",c)},m:function(a,e){d(a,t,e),k(t,n)},p:function(t,n){a=n},d:function(a){a&&f(t),e()}}}function G(a){var t,n,e;function c(){for(var t,n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];return(t=a).click_handler_2.apply(t,[a].concat(e))}return{c:function(){t=l("button"),n=u("Stop"),this.h()},l:function(a){t=i(a,"BUTTON",{type:!0,class:!0});var e=p(t);n=h(e,"Stop"),e.forEach(f),this.h()},h:function(){g(t,"type","button"),g(t,"class","btn btn-danger btn-sm"),e=b(t,"click",c)},m:function(a,e){d(a,t,e),k(t,n)},p:function(t,n){a=n},d:function(a){a&&f(t),e()}}}function H(a){var t,n,e;function c(){for(var t,n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];return(t=a).click_handler_3.apply(t,[a].concat(e))}return{c:function(){t=l("button"),n=u("Enable"),this.h()},l:function(a){t=i(a,"BUTTON",{type:!0,class:!0});var e=p(t);n=h(e,"Enable"),e.forEach(f),this.h()},h:function(){g(t,"type","button"),g(t,"class","btn btn-primary btn-sm"),e=b(t,"click",c)},m:function(a,e){d(a,t,e),k(t,n)},p:function(t,n){a=n},d:function(a){a&&f(t),e()}}}function U(a){var t,n,e;function c(){for(var t,n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];return(t=a).click_handler_4.apply(t,[a].concat(e))}return{c:function(){t=l("button"),n=u("Disable"),this.h()},l:function(a){t=i(a,"BUTTON",{type:!0,class:!0});var e=p(t);n=h(e,"Disable"),e.forEach(f),this.h()},h:function(){g(t,"type","button"),g(t,"class","btn btn-light btn-sm"),e=b(t,"click",c)},m:function(a,e){d(a,t,e),k(t,n)},p:function(t,n){a=n},d:function(a){a&&f(t),e()}}}function R(a){var t,n,e;function c(){for(var t,n=arguments.length,e=new Array(n),c=0;c<n;c++)e[c]=arguments[c];return(t=a).click_handler_5.apply(t,[a].concat(e))}return{c:function(){t=l("button"),n=u("Delete"),this.h()},l:function(a){t=i(a,"BUTTON",{type:!0,class:!0});var e=p(t);n=h(e,"Delete"),e.forEach(f),this.h()},h:function(){g(t,"type","button"),g(t,"class","btn btn-dark btn-sm"),e=b(t,"click",c)},m:function(a,e){d(a,t,e),k(t,n)},p:function(t,n){a=n},d:function(a){a&&f(t),e()}}}function V(a){var t,n,e,c,r,s,o,b,_,T,y,S,P,D,C,w,O=a.pkg.name+"",A=a.pkgStatus[a.pkg.status].name+"",I=a.pkg.path+"",N=a.pkgStatus[a.pkg.status].actions.includes("start"),V=a.pkgStatus[a.pkg.status].actions.includes("stop"),x=a.pkgStatus[a.pkg.status].actions.includes("enable"),M=a.pkgStatus[a.pkg.status].actions.includes("disable"),j=a.pkgStatus[a.pkg.status].actions.includes("delete"),F=N&&B(a),L=V&&G(a),K=x&&H(a),Q=M&&U(a),Y=j&&R(a);return{c:function(){t=l("tr"),n=l("th"),e=u(O),c=v(),r=l("td"),s=u(A),o=v(),b=l("td"),_=u(I),T=v(),y=l("td"),F&&F.c(),S=v(),L&&L.c(),P=v(),K&&K.c(),D=v(),Q&&Q.c(),C=v(),Y&&Y.c(),w=v(),this.h()},l:function(a){t=i(a,"TR",{});var l=p(t);n=i(l,"TH",{scope:!0});var u=p(n);e=h(u,O),u.forEach(f),c=E(l),r=i(l,"TD",{});var g=p(r);s=h(g,A),g.forEach(f),o=E(l),b=i(l,"TD",{});var d=p(b);_=h(d,I),d.forEach(f),T=E(l),y=i(l,"TD",{});var k=p(y);F&&F.l(k),S=E(k),L&&L.l(k),P=E(k),K&&K.l(k),D=E(k),Q&&Q.l(k),C=E(k),Y&&Y.l(k),k.forEach(f),w=E(l),l.forEach(f),this.h()},h:function(){g(n,"scope","row")},m:function(a,l){d(a,t,l),k(t,n),k(n,e),k(t,c),k(t,r),k(r,s),k(t,o),k(t,b),k(b,_),k(t,T),k(t,y),F&&F.m(y,null),k(y,S),L&&L.m(y,null),k(y,P),K&&K.m(y,null),k(y,D),Q&&Q.m(y,null),k(y,C),Y&&Y.m(y,null),k(t,w)},p:function(a,t){a.packages&&O!==(O=t.pkg.name+"")&&m(e,O),a.packages&&A!==(A=t.pkgStatus[t.pkg.status].name+"")&&m(s,A),a.packages&&I!==(I=t.pkg.path+"")&&m(_,I),a.packages&&(N=t.pkgStatus[t.pkg.status].actions.includes("start")),N?F?F.p(a,t):((F=B(t)).c(),F.m(y,S)):F&&(F.d(1),F=null),a.packages&&(V=t.pkgStatus[t.pkg.status].actions.includes("stop")),V?L?L.p(a,t):((L=G(t)).c(),L.m(y,P)):L&&(L.d(1),L=null),a.packages&&(x=t.pkgStatus[t.pkg.status].actions.includes("enable")),x?K?K.p(a,t):((K=H(t)).c(),K.m(y,D)):K&&(K.d(1),K=null),a.packages&&(M=t.pkgStatus[t.pkg.status].actions.includes("disable")),M?Q?Q.p(a,t):((Q=U(t)).c(),Q.m(y,C)):Q&&(Q.d(1),Q=null),a.packages&&(j=t.pkgStatus[t.pkg.status].actions.includes("delete")),j?Y?Y.p(a,t):((Y=R(t)).c(),Y.m(y,null)):Y&&(Y.d(1),Y=null)},d:function(a){a&&f(t),F&&F.d(),L&&L.d(),K&&K.d(),Q&&Q.d(),Y&&Y.d()}}}function x(a){for(var t,n,e,c,r,s,o,m,C,O,A,B,G,H,U,R,x,M,j,F,L,K,Q,Y,q,z,J,W,X,Z,$,aa,ta,na,ea,ca,ra,sa,oa,la,ua,ia,pa,ha,fa=null!=a.lastError&&N(a),ga=a.packages,da=[],ka=0;ka<ga.length;ka+=1)da[ka]=V(I(a,ga,ka));return{c:function(){t=v(),n=l("h2"),e=u("3Bot Package Manager"),c=l("br"),r=l("br"),s=v(),o=l("form"),fa&&fa.c(),m=v(),C=l("div"),O=l("div"),A=l("select"),B=l("option"),G=u("path"),H=l("option"),U=u("giturl"),R=v(),x=l("div"),M=l("div"),j=l("input"),F=v(),L=l("div"),K=l("button"),Q=u("Add package"),Y=v(),q=l("table"),z=l("caption"),J=u("Packages"),W=v(),X=l("thead"),Z=l("tr"),$=l("th"),aa=u("Name"),ta=v(),na=l("th"),ea=u("Status"),ca=v(),ra=l("th"),sa=u("Path"),oa=v(),la=l("th"),ua=u("Actions"),ia=v(),pa=l("tbody");for(var a=0;a<da.length;a+=1)da[a].c();this.h()},l:function(a){t=E(a),n=i(a,"H2",{});var l=p(n);e=h(l,"3Bot Package Manager"),l.forEach(f),c=i(a,"BR",{}),r=i(a,"BR",{}),s=E(a),o=i(a,"FORM",{});var u=p(o);fa&&fa.l(u),m=E(u),C=i(u,"DIV",{class:!0});var g=p(C);O=i(g,"DIV",{class:!0});var d=p(O);A=i(d,"SELECT",{class:!0,id:!0});var k=p(A);B=i(k,"OPTION",{value:!0,selected:!0});var v=p(B);G=h(v,"path"),v.forEach(f),H=i(k,"OPTION",{value:!0});var b=p(H);U=h(b,"giturl"),b.forEach(f),k.forEach(f),d.forEach(f),R=E(g),x=i(g,"DIV",{class:!0});var _=p(x);M=i(_,"DIV",{class:!0});var T=p(M);j=i(T,"INPUT",{type:!0,class:!0,id:!0}),T.forEach(f),_.forEach(f),F=E(g),L=i(g,"DIV",{class:!0});var y=p(L);K=i(y,"BUTTON",{type:!0,class:!0});var S=p(K);Q=h(S,"Add package"),S.forEach(f),y.forEach(f),g.forEach(f),u.forEach(f),Y=E(a),q=i(a,"TABLE",{class:!0,style:!0});var P=p(q);z=i(P,"CAPTION",{});var D=p(z);J=h(D,"Packages"),D.forEach(f),W=E(P),X=i(P,"THEAD",{});var w=p(X);Z=i(w,"TR",{});var I=p(Z);$=i(I,"TH",{scope:!0});var N=p($);aa=h(N,"Name"),N.forEach(f),ta=E(I),na=i(I,"TH",{scope:!0});var V=p(na);ea=h(V,"Status"),V.forEach(f),ca=E(I),ra=i(I,"TH",{scope:!0});var ha=p(ra);sa=h(ha,"Path"),ha.forEach(f),oa=E(I),la=i(I,"TH",{scope:!0});var ga=p(la);ua=h(ga,"Actions"),ga.forEach(f),I.forEach(f),w.forEach(f),ia=E(P),pa=i(P,"TBODY",{});for(var ka=p(pa),ma=0;ma<da.length;ma+=1)da[ma].l(ka);ka.forEach(f),P.forEach(f),this.h()},h:function(){document.title="3bot Package Manager",B.__value="path",B.value=B.__value,B.selected=!0,H.__value="git_url",H.value=H.__value,g(A,"class","custom-select mr-sm-3"),g(A,"id","inlineFormCustomSelect"),void 0===a.method&&w(function(){return a.select_change_handler.call(A)}),g(O,"class","col-auto"),g(j,"type","text"),g(j,"class","form-control"),g(j,"id","inlineFormInputGroup"),g(M,"class","input-group mb-2"),g(x,"class","col-6"),g(K,"type","button"),g(K,"class","btn btn-primary mb-2"),g(L,"class","col-auto"),g(C,"class","form-row align-items-center"),g($,"scope","col"),g(na,"scope","col"),g(ra,"scope","col"),g(la,"scope","col"),g(q,"class","table"),_(q,"margin-top","20px"),ha=[b(A,"change",a.select_change_handler),b(j,"input",a.input_input_handler),b(K,"click",a.click_handler)]},m:function(l,u){d(l,t,u),d(l,n,u),k(n,e),d(l,c,u),d(l,r,u),d(l,s,u),d(l,o,u),fa&&fa.m(o,null),k(o,m),k(o,C),k(C,O),k(O,A),k(A,B),k(B,G),k(A,H),k(H,U),T(A,a.method),k(C,R),k(C,x),k(x,M),k(M,j),y(j,a.newPackagePath),k(C,F),k(C,L),k(L,K),k(K,Q),d(l,Y,u),d(l,q,u),k(q,z),k(z,J),k(q,W),k(q,X),k(X,Z),k(Z,$),k($,aa),k(Z,ta),k(Z,na),k(na,ea),k(Z,ca),k(Z,ra),k(ra,sa),k(Z,oa),k(Z,la),k(la,ua),k(q,ia),k(q,pa);for(var i=0;i<da.length;i+=1)da[i].m(pa,null)},p:function(a,t){if(null!=t.lastError?fa?fa.p(a,t):((fa=N(t)).c(),fa.m(o,m)):fa&&(fa.d(1),fa=null),a.method&&T(A,t.method),a.newPackagePath&&j.value!==t.newPackagePath&&y(j,t.newPackagePath),a.pkgStatus||a.packages||a.packageDelete||a.packageDisable||a.packageEnable||a.packageStop||a.packageStart){var n;for(ga=t.packages,n=0;n<ga.length;n+=1){var e=I(t,ga,n);da[n]?da[n].p(a,e):(da[n]=V(e),da[n].c(),da[n].m(pa,null))}for(;n<da.length;n+=1)da[n].d(1);da.length=ga.length}},i:S,o:S,d:function(a){a&&f(t),a&&f(n),a&&f(c),a&&f(r),a&&f(s),a&&f(o),fa&&fa.d(),a&&f(Y),a&&f(q),P(da,a),D(ha)}}}function M(a,t,n){var e="path",c="",r=null,s=[];function o(){packageGedisClient.threefold.packagemanager.actors.packages_list().then(function(a){if(!a.ok){var t=new Error(a);throw n("lastError",r=t),t}a.json().then(function(a){n("packages",s=a.packages),n("lastError",r=null)})})}function l(){var a={};a[e]=c,packageGedisClient.threefold.packagemanager.actors.package_add(a).then(function(a){a.ok?(n("lastError",r=null),o()):n("lastError",r="Couldn't add package "+c)})}function u(a){var t={name:a};packageGedisClient.threefold.packagemanager.actors.package_enable(t).then(function(t){t.ok?(n("lastError",r=null),o()):n("lastError",r="Couldn't enable package "+a)})}function i(a){var t={name:a};packageGedisClient.threefold.packagemanager.actors.package_disable(t).then(function(t){t.ok?(n("lastError",r=null),o()):n("lastError",r="Couldn't disable package "+a)})}function p(a){var t={name:a};packageGedisClient.threefold.packagemanager.actors.package_stop(t).then(function(t){t.ok?(n("lastError",r=null),o()):n("lastError",r="Couldn't stop package "+a)})}function h(a){var t={name:a};packageGedisClient.threefold.packagemanager.actors.package_start(t).then(function(t){t.ok?(n("lastError",r=null),o()):n("lastError",r="Couldn't start package "+a)})}function f(a){var t={name:a};packageGedisClient.threefold.packagemanager.actors.package_delete(t).then(function(t){t.ok?(n("lastError",r=null),o()):n("lastError",r="Couldn't delete package "+a)})}C(function(){return O.async(function(a){for(;;)switch(a.prev=a.next){case 0:o();case 1:case"end":return a.stop()}})});return{method:e,newPackagePath:c,lastError:r,packages:s,pkgStatus:{0:{name:"Init",actions:["delete"]},1:{name:"Installed",actions:["delete","start"]},2:{name:"Running",actions:["delete","stop"]},3:{name:"Halted",actions:["delete","start","disable"]},4:{name:"Disabled",actions:["delete","enable"]},5:{name:"Error",actions:["delete"]}},packageAdd:l,packageEnable:u,packageDisable:i,packageStop:p,packageStart:h,packageDelete:f,select_change_handler:function(){e=A(this),n("method",e)},input_input_handler:function(){c=this.value,n("newPackagePath",c)},click_handler:function(){return l()},click_handler_1:function(a){return h(a.pkg.name)},click_handler_2:function(a){return p(a.pkg.name)},click_handler_3:function(a){return u(a.pkg.name)},click_handler_4:function(a){return i(a.pkg.name)},click_handler_5:function(a){return f(a.pkg.name)}}}export default(function(l){function u(a){var s;return t(this,u),s=n(this,e(u).call(this)),c(r(s),a,M,x,o,{}),s}return a(u,s),u}());
