import{_ as a,a as t,b as n,c,i as e,s as r,d as s,S as o,e as l,t as u,f as i,g as p,h,j as f,k as d,m as g,o as k,A as m,q as v,r as E,L as b,M as _,N as T,O as P,n as S,P as y,Q as D,R as C,T as w,I as O,J as I,U as N}from"./index.f1052a02.js";function x(a,t,n){var c=Object.create(a);return c.pkg=t[n],c}function B(a){var t,n;return{c:function(){t=l("div"),n=u(a.lastError),this.h()},l:function(c){t=i(c,"DIV",{class:!0,role:!0},!1);var e=p(t);n=h(e,a.lastError),e.forEach(f),this.h()},h:function(){d(t,"class","alert alert-danger"),d(t,"role","alert")},m:function(a,c){g(a,t,c),k(t,n)},p:function(a,t){a.lastError&&m(n,t.lastError)},d:function(a){a&&f(t)}}}function A(a){var t,n,c;function e(){return a.click_handler_1(a)}return{c:function(){t=l("button"),n=u("Start"),this.h()},l:function(a){t=i(a,"BUTTON",{type:!0,class:!0},!1);var c=p(t);n=h(c,"Start"),c.forEach(f),this.h()},h:function(){d(t,"type","button"),d(t,"class","btn btn-success btn-sm"),c=b(t,"click",e)},m:function(a,c){g(a,t,c),k(t,n)},p:function(t,n){a=n},d:function(a){a&&f(t),c()}}}function H(a){var t,n,c;function e(){return a.click_handler_2(a)}return{c:function(){t=l("button"),n=u("Stop"),this.h()},l:function(a){t=i(a,"BUTTON",{type:!0,class:!0},!1);var c=p(t);n=h(c,"Stop"),c.forEach(f),this.h()},h:function(){d(t,"type","button"),d(t,"class","btn btn-danger btn-sm"),c=b(t,"click",e)},m:function(a,c){g(a,t,c),k(t,n)},p:function(t,n){a=n},d:function(a){a&&f(t),c()}}}function U(a){var t,n,c;function e(){return a.click_handler_3(a)}return{c:function(){t=l("button"),n=u("Enable"),this.h()},l:function(a){t=i(a,"BUTTON",{type:!0,class:!0},!1);var c=p(t);n=h(c,"Enable"),c.forEach(f),this.h()},h:function(){d(t,"type","button"),d(t,"class","btn btn-primary btn-sm"),c=b(t,"click",e)},m:function(a,c){g(a,t,c),k(t,n)},p:function(t,n){a=n},d:function(a){a&&f(t),c()}}}function R(a){var t,n,c;function e(){return a.click_handler_4(a)}return{c:function(){t=l("button"),n=u("Disable"),this.h()},l:function(a){t=i(a,"BUTTON",{type:!0,class:!0},!1);var c=p(t);n=h(c,"Disable"),c.forEach(f),this.h()},h:function(){d(t,"type","button"),d(t,"class","btn btn-light btn-sm"),c=b(t,"click",e)},m:function(a,c){g(a,t,c),k(t,n)},p:function(t,n){a=n},d:function(a){a&&f(t),c()}}}function V(a){var t,n,c;function e(){return a.click_handler_5(a)}return{c:function(){t=l("button"),n=u("Delete"),this.h()},l:function(a){t=i(a,"BUTTON",{type:!0,class:!0},!1);var c=p(t);n=h(c,"Delete"),c.forEach(f),this.h()},h:function(){d(t,"type","button"),d(t,"class","btn btn-dark btn-sm"),c=b(t,"click",e)},m:function(a,c){g(a,t,c),k(t,n)},p:function(t,n){a=n},d:function(a){a&&f(t),c()}}}function j(a){var t,n,c,e,r,s,o,b,_,T,P,S,y,D,C,w,O=a.pkg.name+"",I=a.pkgStatus[a.pkg.status].name+"",N=a.pkg.path+"",x=a.pkgStatus[a.pkg.status].actions.includes("start"),B=a.pkgStatus[a.pkg.status].actions.includes("stop"),j=a.pkgStatus[a.pkg.status].actions.includes("enable"),M=a.pkgStatus[a.pkg.status].actions.includes("disable"),F=a.pkgStatus[a.pkg.status].actions.includes("delete"),L=x&&A(a),G=B&&H(a),q=j&&U(a),J=M&&R(a),Q=F&&V(a);return{c:function(){t=l("tr"),n=l("th"),c=u(O),e=v(),r=l("td"),s=u(I),o=v(),b=l("td"),_=u(N),T=v(),P=l("td"),L&&L.c(),S=v(),G&&G.c(),y=v(),q&&q.c(),D=v(),J&&J.c(),C=v(),Q&&Q.c(),w=v(),this.h()},l:function(a){t=i(a,"TR",{},!1);var l=p(t);n=i(l,"TH",{scope:!0},!1);var u=p(n);c=h(u,O),u.forEach(f),e=E(l),r=i(l,"TD",{},!1);var d=p(r);s=h(d,I),d.forEach(f),o=E(l),b=i(l,"TD",{},!1);var g=p(b);_=h(g,N),g.forEach(f),T=E(l),P=i(l,"TD",{},!1);var k=p(P);L&&L.l(k),S=E(k),G&&G.l(k),y=E(k),q&&q.l(k),D=E(k),J&&J.l(k),C=E(k),Q&&Q.l(k),k.forEach(f),w=E(l),l.forEach(f),this.h()},h:function(){d(n,"scope","row")},m:function(a,l){g(a,t,l),k(t,n),k(n,c),k(t,e),k(t,r),k(r,s),k(t,o),k(t,b),k(b,_),k(t,T),k(t,P),L&&L.m(P,null),k(P,S),G&&G.m(P,null),k(P,y),q&&q.m(P,null),k(P,D),J&&J.m(P,null),k(P,C),Q&&Q.m(P,null),k(t,w)},p:function(a,t){a.packages&&O!==(O=t.pkg.name+"")&&m(c,O),a.packages&&I!==(I=t.pkgStatus[t.pkg.status].name+"")&&m(s,I),a.packages&&N!==(N=t.pkg.path+"")&&m(_,N),a.packages&&(x=t.pkgStatus[t.pkg.status].actions.includes("start")),x?L||((L=A(t)).c(),L.m(P,S)):L&&(L.d(1),L=null),a.packages&&(B=t.pkgStatus[t.pkg.status].actions.includes("stop")),B?G||((G=H(t)).c(),G.m(P,y)):G&&(G.d(1),G=null),a.packages&&(j=t.pkgStatus[t.pkg.status].actions.includes("enable")),j?q||((q=U(t)).c(),q.m(P,D)):q&&(q.d(1),q=null),a.packages&&(M=t.pkgStatus[t.pkg.status].actions.includes("disable")),M?J||((J=R(t)).c(),J.m(P,C)):J&&(J.d(1),J=null),a.packages&&(F=t.pkgStatus[t.pkg.status].actions.includes("delete")),F?Q||((Q=V(t)).c(),Q.m(P,null)):Q&&(Q.d(1),Q=null)},d:function(a){a&&f(t),L&&L.d(),G&&G.d(),q&&q.d(),J&&J.d(),Q&&Q.d()}}}function M(a){for(var t,n,c,e,r,s,o,m,C,O,I,N,A,H,U,R,V,M,F,L,G,q,J,Q,Y,z,K,W,X,Z,$,aa,ta,na,ca,ea,ra,sa,oa,la,ua,ia,pa,ha,fa=null!=a.lastError&&B(a),da=a.packages,ga=[],ka=0;ka<da.length;ka+=1)ga[ka]=j(x(a,da,ka));return{c:function(){t=v(),n=l("h2"),c=u("3Bot Package Manager"),e=l("br"),r=l("br"),s=v(),o=l("form"),fa&&fa.c(),m=v(),C=l("div"),O=l("div"),I=l("select"),N=l("option"),A=u("path"),H=l("option"),U=u("giturl"),R=v(),V=l("div"),M=l("div"),F=l("input"),L=v(),G=l("div"),q=l("button"),J=u("Add package"),Q=v(),Y=l("table"),z=l("caption"),K=u("Packages"),W=v(),X=l("thead"),Z=l("tr"),$=l("th"),aa=u("Name"),ta=v(),na=l("th"),ca=u("Status"),ea=v(),ra=l("th"),sa=u("Path"),oa=v(),la=l("th"),ua=u("Actions"),ia=v(),pa=l("tbody");for(var a=0;a<ga.length;a+=1)ga[a].c();this.h()},l:function(a){t=E(a),n=i(a,"H2",{},!1);var l=p(n);c=h(l,"3Bot Package Manager"),l.forEach(f),e=i(a,"BR",{},!1),p(e).forEach(f),r=i(a,"BR",{},!1),p(r).forEach(f),s=E(a),o=i(a,"FORM",{},!1);var u=p(o);fa&&fa.l(u),m=E(u),C=i(u,"DIV",{class:!0},!1);var d=p(C);O=i(d,"DIV",{class:!0},!1);var g=p(O);I=i(g,"SELECT",{class:!0,id:!0},!1);var k=p(I);N=i(k,"OPTION",{value:!0,selected:!0},!1);var v=p(N);A=h(v,"path"),v.forEach(f),H=i(k,"OPTION",{value:!0},!1);var b=p(H);U=h(b,"giturl"),b.forEach(f),k.forEach(f),g.forEach(f),R=E(d),V=i(d,"DIV",{class:!0},!1);var _=p(V);M=i(_,"DIV",{class:!0},!1);var T=p(M);F=i(T,"INPUT",{type:!0,class:!0,id:!0},!1),p(F).forEach(f),T.forEach(f),_.forEach(f),L=E(d),G=i(d,"DIV",{class:!0},!1);var P=p(G);q=i(P,"BUTTON",{type:!0,class:!0},!1);var S=p(q);J=h(S,"Add package"),S.forEach(f),P.forEach(f),d.forEach(f),u.forEach(f),Q=E(a),Y=i(a,"TABLE",{class:!0,style:!0},!1);var y=p(Y);z=i(y,"CAPTION",{},!1);var D=p(z);K=h(D,"Packages"),D.forEach(f),W=E(y),X=i(y,"THEAD",{},!1);var w=p(X);Z=i(w,"TR",{},!1);var x=p(Z);$=i(x,"TH",{scope:!0},!1);var B=p($);aa=h(B,"Name"),B.forEach(f),ta=E(x),na=i(x,"TH",{scope:!0},!1);var j=p(na);ca=h(j,"Status"),j.forEach(f),ea=E(x),ra=i(x,"TH",{scope:!0},!1);var ha=p(ra);sa=h(ha,"Path"),ha.forEach(f),oa=E(x),la=i(x,"TH",{scope:!0},!1);var da=p(la);ua=h(da,"Actions"),da.forEach(f),x.forEach(f),w.forEach(f),ia=E(y),pa=i(y,"TBODY",{},!1);for(var ka=p(pa),ma=0;ma<ga.length;ma+=1)ga[ma].l(ka);ka.forEach(f),y.forEach(f),this.h()},h:function(){document.title="3bot Package Manager",N.__value="path",N.value=N.__value,N.selected=!0,H.__value="git_url",H.value=H.__value,void 0===a.method&&w(function(){return a.select_change_handler.call(I)}),d(I,"class","custom-select mr-sm-3"),d(I,"id","inlineFormCustomSelect"),d(O,"class","col-auto"),d(F,"type","text"),d(F,"class","form-control"),d(F,"id","inlineFormInputGroup"),d(M,"class","input-group mb-2"),d(V,"class","col-6"),d(q,"type","button"),d(q,"class","btn btn-prweblibs/gedis/gedis_http.jsimary mb-2"),d(G,"class","col-auto"),d(C,"class","form-row align-items-center"),d($,"scope","col"),d(na,"scope","col"),d(ra,"scope","col"),d(la,"scope","col"),d(Y,"class","table"),_(Y,"margin-top","20px"),ha=[b(I,"change",a.select_change_handler),b(F,"input",a.input_input_handler),b(q,"click",a.click_handler)]},m:function(l,u){g(l,t,u),g(l,n,u),k(n,c),g(l,e,u),g(l,r,u),g(l,s,u),g(l,o,u),fa&&fa.m(o,null),k(o,m),k(o,C),k(C,O),k(O,I),k(I,N),k(N,A),k(I,H),k(H,U),T(I,a.method),k(C,R),k(C,V),k(V,M),k(M,F),P(F,a.newPackagePath),k(C,L),k(C,G),k(G,q),k(q,J),g(l,Q,u),g(l,Y,u),k(Y,z),k(z,K),k(Y,W),k(Y,X),k(X,Z),k(Z,$),k($,aa),k(Z,ta),k(Z,na),k(na,ca),k(Z,ea),k(Z,ra),k(ra,sa),k(Z,oa),k(Z,la),k(la,ua),k(Y,ia),k(Y,pa);for(var i=0;i<ga.length;i+=1)ga[i].m(pa,null)},p:function(a,t){if(null!=t.lastError?fa?fa.p(a,t):((fa=B(t)).c(),fa.m(o,m)):fa&&(fa.d(1),fa=null),a.method&&T(I,t.method),a.newPackagePath&&F.value!==t.newPackagePath&&P(F,t.newPackagePath),a.pkgStatus||a.packages){var n;for(da=t.packages,n=0;n<da.length;n+=1){var c=x(t,da,n);ga[n]?ga[n].p(a,c):(ga[n]=j(c),ga[n].c(),ga[n].m(pa,null))}for(;n<ga.length;n+=1)ga[n].d(1);ga.length=da.length}},i:S,o:S,d:function(a){a&&(f(t),f(n),f(e),f(r),f(s),f(o)),fa&&fa.d(),a&&(f(Q),f(Y)),y(ga,a),D(ha)}}}function F(a,t,n){var c=new GedisHTTPClient("".concat(location.protocol,"//").concat(location.hostname,"/web/gedis/http")),e="path",r="",s=null,o=[];function l(){c.executeCommand("package_manager","packages_list").then(function(a){if(!a.ok){var t=new Error(a);throw n("lastError",s=t),t}a.json().then(function(a){n("packages",o=a.packages),n("lastError",s=null)})})}function u(){var a={};a[e]=r,c.executeCommand("package_manager","package_add",a).then(function(a){a.ok?(n("lastError",s=null),l()):n("lastError",s="Couldn't add package "+r)})}function i(a){var t={name:a};c.executeCommand("package_manager","package_enable",t).then(function(t){t.ok?(n("lastError",s=null),l()):n("lastError",s="Couldn't enable package "+a)})}function p(a){var t={name:a};c.executeCommand("package_manager","package_disable",t).then(function(t){t.ok?(n("lastError",s=null),l()):n("lastError",s="Couldn't disable package "+a)})}function h(a){var t={name:a};c.executeCommand("package_manager","package_stop",t).then(function(t){t.ok?(n("lastError",s=null),l()):n("lastError",s="Couldn't stop package "+a)})}function f(a){var t={name:a};c.executeCommand("package_manager","package_start",t).then(function(t){t.ok?(n("lastError",s=null),l()):n("lastError",s="Couldn't start package "+a)})}function d(a){var t={name:a};c.executeCommand("package_manager","package_delete",t).then(function(t){t.ok?(n("lastError",s=null),l()):n("lastError",s="Couldn't delete package "+a)})}C(O(I.mark(function a(){return I.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:l();case 1:case"end":return a.stop()}},a)})));return{method:e,newPackagePath:r,lastError:s,packages:o,pkgStatus:{0:{name:"Init",actions:["delete"]},1:{name:"Installed",actions:["delete","start"]},2:{name:"Running",actions:["delete","stop"]},3:{name:"Halted",actions:["delete","start","disable"]},4:{name:"Disabled",actions:["delete","enable"]},5:{name:"Error",actions:["delete"]}},packageAdd:u,packageEnable:i,packageDisable:p,packageStop:h,packageStart:f,packageDelete:d,select_change_handler:function(){e=N(this),n("method",e)},input_input_handler:function(){r=this.value,n("newPackagePath",r)},click_handler:function(){return u()},click_handler_1:function(a){return f(a.pkg.name)},click_handler_2:function(a){return h(a.pkg.name)},click_handler_3:function(a){return i(a.pkg.name)},click_handler_4:function(a){return p(a.pkg.name)},click_handler_5:function(a){return d(a.pkg.name)}}}export default(function(l){function u(a){var o;return t(this,u),o=n(this,c(u).call(this)),e(s(o),a,F,M,r,[]),o}return a(u,o),u}());
