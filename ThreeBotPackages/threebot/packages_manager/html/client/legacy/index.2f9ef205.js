import{_ as a,a as t,b as e,c as r,i as n,s as c,d as o,S as s,e as l,t as i,f as h,g as u,h as f,j as p,k as g,m as d,o as v,A as m,q as E,r as k,L as _,M as P,N as T,O as b,n as w,P as I,Q as D,R as O,T as S,I as A,J as H,U as N}from"./index.5be34265.js";function y(a,t,e){var r=Object.create(a);return r.pkg=t[e],r}function x(a){var t,e;return{c:function(){t=l("div"),e=i(a.lastError),this.h()},l:function(r){t=h(r,"DIV",{class:!0,role:!0},!1);var n=u(t);e=f(n,a.lastError),n.forEach(p),this.h()},h:function(){g(t,"class","alert alert-danger"),g(t,"role","alert")},m:function(a,r){d(a,t,r),v(t,e)},p:function(a,t){a.lastError&&m(e,t.lastError)},d:function(a){a&&p(t)}}}function B(a){var t,e,r,n,c,o,s,_,P,T,b,w,I,D=a.pkg.name+"",O=a.pkgStatus[a.pkg.status].name+"",S=a.pkg.path+"";return{c:function(){t=l("tr"),e=l("th"),r=i(D),n=E(),c=l("td"),o=i(O),s=E(),_=l("td"),P=i(S),T=E(),b=l("td"),w=i("aaaa"),I=E(),this.h()},l:function(a){t=h(a,"TR",{},!1);var l=u(t);e=h(l,"TH",{scope:!0},!1);var i=u(e);r=f(i,D),i.forEach(p),n=k(l),c=h(l,"TD",{},!1);var g=u(c);o=f(g,O),g.forEach(p),s=k(l),_=h(l,"TD",{},!1);var d=u(_);P=f(d,S),d.forEach(p),T=k(l),b=h(l,"TD",{},!1);var v=u(b);w=f(v,"aaaa"),v.forEach(p),I=k(l),l.forEach(p),this.h()},h:function(){g(e,"scope","row")},m:function(a,l){d(a,t,l),v(t,e),v(e,r),v(t,n),v(t,c),v(c,o),v(t,s),v(t,_),v(_,P),v(t,T),v(t,b),v(b,w),v(t,I)},p:function(a,t){a.packages&&D!==(D=t.pkg.name+"")&&m(r,D),a.packages&&O!==(O=t.pkgStatus[t.pkg.status].name+"")&&m(o,O),a.packages&&S!==(S=t.pkg.path+"")&&m(P,S)},d:function(a){a&&p(t)}}}function R(a){for(var t,e,r,n,c,o,s,m,O,A,H,N,R,C,V,j,M,F,L,U,G,J,q,Q,Y,z,K,W,X,Z,$,aa,ta,ea,ra,na,ca,oa,sa,la,ia,ha,ua,fa,pa=null!=a.lastError&&x(a),ga=a.packages,da=[],va=0;va<ga.length;va+=1)da[va]=B(y(a,ga,va));return{c:function(){t=E(),e=l("h2"),r=i("3Bot Package Manager"),n=l("br"),c=l("br"),o=E(),s=l("form"),pa&&pa.c(),m=E(),O=l("div"),A=l("div"),H=l("select"),N=l("option"),R=i("path"),C=l("option"),V=i("giturl"),j=E(),M=l("div"),F=l("div"),L=l("input"),U=E(),G=l("div"),J=l("button"),q=i("Add package"),Q=E(),Y=l("table"),z=l("caption"),K=i("Packages"),W=E(),X=l("thead"),Z=l("tr"),$=l("th"),aa=i("Name"),ta=E(),ea=l("th"),ra=i("Status"),na=E(),ca=l("th"),oa=i("Path"),sa=E(),la=l("th"),ia=i("Actions"),ha=E(),ua=l("tbody");for(var a=0;a<da.length;a+=1)da[a].c();this.h()},l:function(a){t=k(a),e=h(a,"H2",{},!1);var l=u(e);r=f(l,"3Bot Package Manager"),l.forEach(p),n=h(a,"BR",{},!1),u(n).forEach(p),c=h(a,"BR",{},!1),u(c).forEach(p),o=k(a),s=h(a,"FORM",{},!1);var i=u(s);pa&&pa.l(i),m=k(i),O=h(i,"DIV",{class:!0},!1);var g=u(O);A=h(g,"DIV",{class:!0},!1);var d=u(A);H=h(d,"SELECT",{class:!0,id:!0},!1);var v=u(H);N=h(v,"OPTION",{value:!0,selected:!0},!1);var E=u(N);R=f(E,"path"),E.forEach(p),C=h(v,"OPTION",{value:!0},!1);var _=u(C);V=f(_,"giturl"),_.forEach(p),v.forEach(p),d.forEach(p),j=k(g),M=h(g,"DIV",{class:!0},!1);var P=u(M);F=h(P,"DIV",{class:!0},!1);var T=u(F);L=h(T,"INPUT",{type:!0,class:!0,id:!0},!1),u(L).forEach(p),T.forEach(p),P.forEach(p),U=k(g),G=h(g,"DIV",{class:!0},!1);var b=u(G);J=h(b,"BUTTON",{type:!0,class:!0},!1);var w=u(J);q=f(w,"Add package"),w.forEach(p),b.forEach(p),g.forEach(p),i.forEach(p),Q=k(a),Y=h(a,"TABLE",{class:!0,style:!0},!1);var I=u(Y);z=h(I,"CAPTION",{},!1);var D=u(z);K=f(D,"Packages"),D.forEach(p),W=k(I),X=h(I,"THEAD",{},!1);var S=u(X);Z=h(S,"TR",{},!1);var y=u(Z);$=h(y,"TH",{scope:!0},!1);var x=u($);aa=f(x,"Name"),x.forEach(p),ta=k(y),ea=h(y,"TH",{scope:!0},!1);var B=u(ea);ra=f(B,"Status"),B.forEach(p),na=k(y),ca=h(y,"TH",{scope:!0},!1);var fa=u(ca);oa=f(fa,"Path"),fa.forEach(p),sa=k(y),la=h(y,"TH",{scope:!0},!1);var ga=u(la);ia=f(ga,"Actions"),ga.forEach(p),y.forEach(p),S.forEach(p),ha=k(I),ua=h(I,"TBODY",{},!1);for(var va=u(ua),ma=0;ma<da.length;ma+=1)da[ma].l(va);va.forEach(p),I.forEach(p),this.h()},h:function(){document.title="3bot Package Manager",N.__value="path",N.value=N.__value,N.selected=!0,C.__value="git_url",C.value=C.__value,void 0===a.method&&S(function(){return a.select_change_handler.call(H)}),g(H,"class","custom-select mr-sm-3"),g(H,"id","inlineFormCustomSelect"),g(A,"class","col-auto"),g(L,"type","text"),g(L,"class","form-control"),g(L,"id","inlineFormInputGroup"),g(F,"class","input-group mb-2"),g(M,"class","col-6"),g(J,"type","button"),g(J,"class","btn btn-prweblibs/gedis/gedis_http.jsimary mb-2"),g(G,"class","col-auto"),g(O,"class","form-row align-items-center"),g($,"scope","col"),g(ea,"scope","col"),g(ca,"scope","col"),g(la,"scope","col"),g(Y,"class","table"),_(Y,"margin-top","20px"),fa=[P(H,"change",a.select_change_handler),P(L,"input",a.input_input_handler),P(J,"click",a.click_handler)]},m:function(l,i){d(l,t,i),d(l,e,i),v(e,r),d(l,n,i),d(l,c,i),d(l,o,i),d(l,s,i),pa&&pa.m(s,null),v(s,m),v(s,O),v(O,A),v(A,H),v(H,N),v(N,R),v(H,C),v(C,V),T(H,a.method),v(O,j),v(O,M),v(M,F),v(F,L),b(L,a.newPackagePath),v(O,U),v(O,G),v(G,J),v(J,q),d(l,Q,i),d(l,Y,i),v(Y,z),v(z,K),v(Y,W),v(Y,X),v(X,Z),v(Z,$),v($,aa),v(Z,ta),v(Z,ea),v(ea,ra),v(Z,na),v(Z,ca),v(ca,oa),v(Z,sa),v(Z,la),v(la,ia),v(Y,ha),v(Y,ua);for(var h=0;h<da.length;h+=1)da[h].m(ua,null)},p:function(a,t){if(null!=t.lastError?pa?pa.p(a,t):((pa=x(t)).c(),pa.m(s,m)):pa&&(pa.d(1),pa=null),a.method&&T(H,t.method),a.newPackagePath&&L.value!==t.newPackagePath&&b(L,t.newPackagePath),a.packages||a.pkgStatus){var e;for(ga=t.packages,e=0;e<ga.length;e+=1){var r=y(t,ga,e);da[e]?da[e].p(a,r):(da[e]=B(r),da[e].c(),da[e].m(ua,null))}for(;e<da.length;e+=1)da[e].d(1);da.length=ga.length}},i:w,o:w,d:function(a){a&&(p(t),p(e),p(n),p(c),p(o),p(s)),pa&&pa.d(),a&&(p(Q),p(Y)),I(da,a),D(fa)}}}function C(a,t,e){var r=new GedisHTTPClient("".concat(location.protocol,"//").concat(location.hostname,"/web/gedis/http")),n="path",c="",o=null,s=[];function l(){r.executeCommand("package_manager","packages_list").then(function(a){if(!a.ok){var t=new Error(a);throw e("lastError",o=t),t}a.json().then(function(a){e("packages",s=a.packages),e("lastError",o=null)})})}function i(){var a={};a[n]=c,r.executeCommand("package_manager","package_add",a).then(function(a){if(!a.ok){var t=new Error(a);throw e("lastError",o=JSON.stringify(t)),t}l(),e("lastError",o=null)})}O(A(H.mark(function a(){return H.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:l();case 1:case"end":return a.stop()}},a)})));return{method:n,newPackagePath:c,lastError:o,packages:s,pkgStatus:{0:{name:"Init",actions:["delete"]},1:{name:"Installed",actions:["delete","start"]},2:{name:"Running",actions:["delete","stop"]},3:{name:"Halted",actions:["delete","start","disable"]},4:{name:"Disabled",actions:["delete","enable"]},5:{name:"Error",actions:["delete"]}},packageAdd:i,select_change_handler:function(){n=N(this),e("method",n)},input_input_handler:function(){c=this.value,e("newPackagePath",c)},click_handler:function(){return i()}}}export default(function(l){function i(a){var s;return t(this,i),s=e(this,r(i).call(this)),n(o(s),a,C,R,c,[]),s}return a(i,s),i}());
