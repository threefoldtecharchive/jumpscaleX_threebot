import{S as a,i as e,s as t,e as s,t as c,l as o,c as r,a as n,b as l,d as h,m as p,f as i,h as g,j as u,w as d,E as f,F as m,G as v,H as k,n as E,I as P,J as T,K as _,L as b,M as I}from"./index.92d55523.js";function w(a,e,t){const s=Object.create(a);return s.pkg=e[t],s}function D(a){var e,t,f,m,v,k,E,P,T,_,b,I,w,D=a.pkg.name+"",H=a.pkgStatus[a.pkg.status].name+"",O=a.pkg.path+"";return{c(){e=s("tr"),t=s("th"),f=c(D),m=o(),v=s("td"),k=c(H),E=o(),P=s("td"),T=c(O),_=o(),b=s("td"),I=c("aaaa"),w=o(),this.h()},l(a){e=r(a,"TR",{},!1);var s=n(e);t=r(s,"TH",{scope:!0},!1);var c=n(t);f=l(c,D),c.forEach(h),m=p(s),v=r(s,"TD",{},!1);var o=n(v);k=l(o,H),o.forEach(h),E=p(s),P=r(s,"TD",{},!1);var i=n(P);T=l(i,O),i.forEach(h),_=p(s),b=r(s,"TD",{},!1);var g=n(b);I=l(g,"aaaa"),g.forEach(h),w=p(s),s.forEach(h),this.h()},h(){i(t,"scope","row")},m(a,s){g(a,e,s),u(e,t),u(t,f),u(e,m),u(e,v),u(v,k),u(e,E),u(e,P),u(P,T),u(e,_),u(e,b),u(b,I),u(e,w)},p(a,e){a.packages&&D!==(D=e.pkg.name+"")&&d(f,D),a.packages&&H!==(H=e.pkgStatus[e.pkg.status].name+"")&&d(k,H),a.packages&&O!==(O=e.pkg.path+"")&&d(T,O)},d(a){a&&h(e)}}}function H(a){var e,t,d,_,I,H,O,S,y,A,B,N,x,R,C,M,V,j,F,G,L,U,$,J,K,Y,q,z,Q,W,X,Z,aa,ea,ta,sa,ca,oa,ra,na,la,ha,pa,ia;let ga=a.packages,ua=[];for(let e=0;e<ga.length;e+=1)ua[e]=D(w(a,ga,e));return{c(){e=o(),t=s("h2"),d=c("3Bot Package Manager"),_=s("br"),I=s("br"),H=o(),O=s("form"),S=o(),y=s("div"),A=s("div"),B=s("select"),N=s("option"),x=c("path"),R=s("option"),C=c("giturl"),M=o(),V=s("div"),j=s("div"),F=s("input"),G=o(),L=s("div"),U=s("button"),$=c("Add package"),J=o(),K=s("table"),Y=s("caption"),q=c("Packages"),z=o(),Q=s("thead"),W=s("tr"),X=s("th"),Z=c("Name"),aa=o(),ea=s("th"),ta=c("Status"),sa=o(),ca=s("th"),oa=c("Path"),ra=o(),na=s("th"),la=c("Actions"),ha=o(),pa=s("tbody");for(let a=0;a<ua.length;a+=1)ua[a].c();this.h()},l(a){e=p(a),t=r(a,"H2",{},!1);var s=n(t);d=l(s,"3Bot Package Manager"),s.forEach(h),_=r(a,"BR",{},!1),n(_).forEach(h),I=r(a,"BR",{},!1),n(I).forEach(h),H=p(a),O=r(a,"FORM",{},!1);var c=n(O);S=p(c),y=r(c,"DIV",{class:!0},!1);var o=n(y);A=r(o,"DIV",{class:!0},!1);var i=n(A);B=r(i,"SELECT",{class:!0,id:!0},!1);var g=n(B);N=r(g,"OPTION",{value:!0,selected:!0},!1);var u=n(N);x=l(u,"path"),u.forEach(h),R=r(g,"OPTION",{value:!0},!1);var f=n(R);C=l(f,"giturl"),f.forEach(h),g.forEach(h),i.forEach(h),M=p(o),V=r(o,"DIV",{class:!0},!1);var m=n(V);j=r(m,"DIV",{class:!0},!1);var v=n(j);F=r(v,"INPUT",{type:!0,class:!0,id:!0},!1),n(F).forEach(h),v.forEach(h),m.forEach(h),G=p(o),L=r(o,"DIV",{class:!0},!1);var k=n(L);U=r(k,"BUTTON",{type:!0,class:!0},!1);var E=n(U);$=l(E,"Add package"),E.forEach(h),k.forEach(h),o.forEach(h),c.forEach(h),J=p(a),K=r(a,"TABLE",{class:!0,style:!0},!1);var P=n(K);Y=r(P,"CAPTION",{},!1);var T=n(Y);q=l(T,"Packages"),T.forEach(h),z=p(P),Q=r(P,"THEAD",{},!1);var b=n(Q);W=r(b,"TR",{},!1);var w=n(W);X=r(w,"TH",{scope:!0},!1);var D=n(X);Z=l(D,"Name"),D.forEach(h),aa=p(w),ea=r(w,"TH",{scope:!0},!1);var ia=n(ea);ta=l(ia,"Status"),ia.forEach(h),sa=p(w),ca=r(w,"TH",{scope:!0},!1);var ga=n(ca);oa=l(ga,"Path"),ga.forEach(h),ra=p(w),na=r(w,"TH",{scope:!0},!1);var da=n(na);la=l(da,"Actions"),da.forEach(h),w.forEach(h),b.forEach(h),ha=p(P),pa=r(P,"TBODY",{},!1);var fa=n(pa);for(let a=0;a<ua.length;a+=1)ua[a].l(fa);fa.forEach(h),P.forEach(h),this.h()},h(){document.title="3bot Package Manager",N.__value="path",N.value=N.__value,N.selected=!0,R.__value="git_url",R.value=R.__value,void 0===a.method&&b(()=>a.select_change_handler.call(B)),i(B,"class","custom-select mr-sm-3"),i(B,"id","inlineFormCustomSelect"),i(A,"class","col-auto"),i(F,"type","text"),i(F,"class","form-control"),i(F,"id","inlineFormInputGroup"),i(j,"class","input-group mb-2"),i(V,"class","col-6"),i(U,"type","button"),i(U,"class","btn btn-primary mb-2"),i(L,"class","col-auto"),i(y,"class","form-row align-items-center"),i(X,"scope","col"),i(ea,"scope","col"),i(ca,"scope","col"),i(na,"scope","col"),i(K,"class","table"),f(K,"margin-top","20px"),ia=[m(B,"change",a.select_change_handler),m(F,"input",a.input_input_handler)]},m(s,c){g(s,e,c),g(s,t,c),u(t,d),g(s,_,c),g(s,I,c),g(s,H,c),g(s,O,c),u(O,S),u(O,y),u(y,A),u(A,B),u(B,N),u(N,x),u(B,R),u(R,C),v(B,a.method),u(y,M),u(y,V),u(V,j),u(j,F),k(F,a.newPackagePath),u(y,G),u(y,L),u(L,U),u(U,$),g(s,J,c),g(s,K,c),u(K,Y),u(Y,q),u(K,z),u(K,Q),u(Q,W),u(W,X),u(X,Z),u(W,aa),u(W,ea),u(ea,ta),u(W,sa),u(W,ca),u(ca,oa),u(W,ra),u(W,na),u(na,la),u(K,ha),u(K,pa);for(let a=0;a<ua.length;a+=1)ua[a].m(pa,null)},p(a,e){if(a.method&&v(B,e.method),a.newPackagePath&&F.value!==e.newPackagePath&&k(F,e.newPackagePath),a.packages||a.pkgStatus){let t;for(ga=e.packages,t=0;t<ga.length;t+=1){const s=w(e,ga,t);ua[t]?ua[t].p(a,s):(ua[t]=D(s),ua[t].c(),ua[t].m(pa,null))}for(;t<ua.length;t+=1)ua[t].d(1);ua.length=ga.length}},i:E,o:E,d(a){a&&(h(e),h(t),h(_),h(I),h(H),h(O)),a&&(h(J),h(K)),P(ua,a),T(ia)}}}function O(a,e,t){const s=new GedisHTTPClient(`${location.protocol}//${location.hostname}/web/gedis/http`);let c="path",o="",r=[];return _(async()=>{s.executeCommand("package_manager","packages_list").then(a=>{a.json().then(a=>{t("packages",r=a.packages),console.log("package",r)})})}),{method:c,newPackagePath:o,packages:r,pkgStatus:{0:{name:"Init",actions:["delete"]},1:{name:"Installed",actions:["delete","start"]},2:{name:"Running",actions:["delete","stop"]},3:{name:"Halted",actions:["delete","start","disable"]},4:{name:"Disabled",actions:["delete","enable"]},5:{name:"Error",actions:["delete"]}},select_change_handler:function(){c=I(this),t("method",c)},input_input_handler:function(){o=this.value,t("newPackagePath",o)}}}export default class extends a{constructor(a){super(),e(this,a,O,H,t,[])}}
