import{S as t,i as s,s as o,N as a,p as e,q as n,r,l,t as c,b as i,k as p,n as u,w as d,x as f,y as g,B as m,d as h,j as b}from"./index.d504ffde.js";import"./app.8d939e64.js";import{d as k}from"./_api.b86b90d5.js";import"./showdown.20a62d9b.js";import"./Tags.67e5a0f9.js";import{P as $}from"./PostList.2f90edb3.js";function w(t){return{c:u,l:u,m:u,p:u,i:u,o:u,d:u}}function j(t){let s;const o=new $({props:{title:"Posts with tag "+t[1],posts:t[2]}});return{c(){d(o.$$.fragment)},l(t){f(o.$$.fragment,t)},m(t,a){g(o,t,a),s=!0},p(t,s){const a={};2&s&&(a.title="Posts with tag "+t[1]),1&s&&(a.posts=t[2]),o.$set(a)},i(t){s||(c(o.$$.fragment,t),s=!0)},o(t){i(o.$$.fragment,t),s=!1},d(t){m(o,t)}}}function x(t){let s;return{c(){s=h("Loading")},l(t){s=b(t,"Loading")},m(t,o){l(t,s,o)},p:u,i:u,o:u,d(t){t&&p(s)}}}function P(t){let s,o,u,d,f={ctx:t,current:null,token:null,pending:x,then:j,catch:w,value:2,blocks:[,,,]};return a(u=t[0],f),{c(){s=e(),o=n(),f.block.c(),this.h()},l(t){s=r(t),o=n(),f.block.l(t),this.h()},h(){document.title="Blog"},m(t,a){l(t,s,a),l(t,o,a),f.block.m(t,f.anchor=a),f.mount=(()=>o.parentNode),f.anchor=o,d=!0},p(s,[o]){if(t=s,f.ctx=t,1&o&&u!==(u=t[0])&&a(u,f));else{const s=t.slice();s[2]=f.resolved,f.block.p(s,o)}},i(t){d||(c(f.block),d=!0)},o(t){for(let t=0;t<3;t+=1){const s=f.blocks[t];i(s)}d=!1},d(t){t&&p(s),t&&p(o),f.block.d(t),f.token=null,f=null}}}async function L({params:t}){let s=t.slug,o=await k(t.theuser);const a=new Map;return o.forEach(t=>{t.tags.forEach(s=>{a.has(s)?a.set(s,[...a.get(s),t]):a.set(s,[t])})}),{posts:a.get(s),tag:t.slug}}function v(t,s,o){let{posts:a=[]}=s,{tag:e=""}=s;return t.$set=(t=>{"posts"in t&&o(0,a=t.posts),"tag"in t&&o(1,e=t.tag)}),[a,e]}export default class extends t{constructor(t){super(),s(this,t,v,P,o,{posts:0,tag:1})}}export{L as preload};
