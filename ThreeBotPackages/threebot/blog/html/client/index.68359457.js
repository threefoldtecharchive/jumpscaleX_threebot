import{S as e,i as a,s,L as t,p as n,e as r,d as l,q as o,r as u,f as c,h,j as p,k as g,l as i,m as f,v as m,n as d,J as v,u as k,o as b,F as j}from"./index.9569dcac.js";import{a as x}from"./app.40fc729e.js";function E(e,a,s){const t=Object.create(e);return t.thepage=a[s],t}function L(e){return{c:d,l:d,m:d,p:d,d:d}}function P(e){var a;let s=e.value,t=[];for(let a=0;a<s.length;a+=1)t[a]=$(E(e,s,a));return{c(){a=r("ul");for(let e=0;e<t.length;e+=1)t[e].c();this.h()},l(e){a=c(e,"UL",{class:!0},!1);var s=h(a);for(let e=0;e<t.length;e+=1)t[e].l(s);s.forEach(g),this.h()},h(){k(a,"class","svelte-1uzksw3")},m(e,s){i(e,a,s);for(let e=0;e<t.length;e+=1)t[e].m(a,null)},p(e,n){if(e.username||e.pages){let r;for(s=n.value,r=0;r<s.length;r+=1){const l=E(n,s,r);t[r]?t[r].p(e,l):(t[r]=$(l),t[r].c(),t[r].m(a,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=s.length}},d(e){e&&g(a),j(t,e)}}}function $(e){var a,s,t,o,m,d=e.thepage.title+"";return{c(){a=r("li"),s=r("a"),t=l(d),m=n(),this.h()},l(e){a=c(e,"LI",{},!1);var n=h(a);s=c(n,"A",{rel:!0,href:!0},!1);var r=h(s);t=p(r,d),r.forEach(g),m=u(n),n.forEach(g),this.h()},h(){k(s,"rel","prefetch"),k(s,"href",o=e.username+"/pages/"+e.thepage.slug)},m(e,n){i(e,a,n),f(a,s),f(s,t),f(a,m)},p(e,a){e.pages&&d!==(d=a.thepage.title+"")&&b(t,d),(e.username||e.pages)&&o!==(o=a.username+"/pages/"+a.thepage.slug)&&k(s,"href",o)},d(e){e&&g(a)}}}function q(e){return{c:d,l:d,m:d,p:d,d:d}}function w(e){var a,s,v,k,b,j;let x={ctx:e,current:null,token:null,pending:q,then:P,catch:L,value:"value",error:"null"};return t(j=e.pages,x),{c(){a=n(),s=r("h1"),v=l("Pages"),k=n(),b=o(),x.block.c(),this.h()},l(e){a=u(e),s=c(e,"H1",{},!1);var t=h(s);v=p(t,"Pages"),t.forEach(g),k=u(e),b=o(),x.block.l(e),this.h()},h(){document.title="Pages"},m(e,t){i(e,a,t),i(e,s,t),f(s,v),i(e,k,t),i(e,b,t),x.block.m(e,x.anchor=t),x.mount=(()=>b.parentNode),x.anchor=b},p(a,s){e=s,x.ctx=e,"pages"in a&&j!==(j=e.pages)&&t(j,x)||x.block.p(a,m(m({},e),x.resolved))},i:d,o:d,d(e){e&&(g(a),g(s),g(k),g(b)),x.block.d(e),x.token=null,x=null}}}function y({params:e,query:a}){return this.fetch(`${e.theuser}/pages.json`).then(e=>e.json()).then(a=>(console.log(e),{pages:a}))}function z(e,a,s){let t,{pages:n=[]}=a;const{preloading:r,page:l,session:o}=x();v(e,l,e=>{s("$page",t=e)});let{username:u=t.params.theuser}=a;return e.$set=(e=>{"pages"in e&&s("pages",n=e.pages),"username"in e&&s("username",u=e.username)}),{pages:n,page:l,username:u}}export default class extends e{constructor(e){super(),a(this,e,z,w,s,["pages","username"])}}export{y as preload};
