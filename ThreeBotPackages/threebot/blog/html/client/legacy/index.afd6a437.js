import{a as n,b as e,c as a,d as t,i as r,s,e as u,S as o,R as c,w as i,k as l,l as f,x as h,y as p,m as g,o as m,p as v,q as d,r as b,u as k,A as x,n as j,P as E,z as P,v as q,K as w}from"./index.da608116.js";import{b as y}from"./app.fecb3c59.js";function z(n,e,a){var t=Object.create(n);return t.thepage=e[a],t}function A(n){return{c:j,l:j,m:j,p:j,d:j}}function L(n){for(var e,a=n.value,t=[],r=0;r<a.length;r+=1)t[r]=$(z(n,a,r));return{c:function(){e=l("ul");for(var n=0;n<t.length;n+=1)t[n].c();this.h()},l:function(n){e=g(n,"UL",{class:!0},!1);for(var a=m(e),r=0;r<t.length;r+=1)t[r].l(a);a.forEach(d),this.h()},h:function(){P(e,"class","svelte-1uzksw3")},m:function(n,a){b(n,e,a);for(var r=0;r<t.length;r+=1)t[r].m(e,null)},p:function(n,r){if(n.username||n.pages){var s;for(a=r.value,s=0;s<a.length;s+=1){var u=z(r,a,s);t[s]?t[s].p(n,u):(t[s]=$(u),t[s].c(),t[s].m(e,null))}for(;s<t.length;s+=1)t[s].d(1);t.length=a.length}},d:function(n){n&&d(e),w(t,n)}}}function $(n){var e,a,t,r,s,u=n.thepage.title+"";return{c:function(){e=l("li"),a=l("a"),t=f(u),s=i(),this.h()},l:function(n){e=g(n,"LI",{},!1);var r=m(e);a=g(r,"A",{rel:!0,href:!0},!1);var o=m(a);t=v(o,u),o.forEach(d),s=p(r),r.forEach(d),this.h()},h:function(){P(a,"rel","prefetch"),P(a,"href",r=n.username+"/pages/"+n.thepage.slug)},m:function(n,r){b(n,e,r),k(e,a),k(a,t),k(e,s)},p:function(n,e){n.pages&&u!==(u=e.thepage.title+"")&&q(t,u),(n.username||n.pages)&&r!==(r=e.username+"/pages/"+e.thepage.slug)&&P(a,"href",r)},d:function(n){n&&d(e)}}}function H(n){return{c:j,l:j,m:j,p:j,d:j}}function I(n){var e,a,t,r,s,u,o={ctx:n,current:null,token:null,pending:H,then:L,catch:A,value:"value",error:"null"};return c(u=n.pages,o),{c:function(){e=i(),a=l("h1"),t=f("Pages"),r=i(),s=h(),o.block.c(),this.h()},l:function(n){e=p(n),a=g(n,"H1",{},!1);var u=m(a);t=v(u,"Pages"),u.forEach(d),r=p(n),s=h(),o.block.l(n),this.h()},h:function(){document.title="Pages"},m:function(n,u){b(n,e,u),b(n,a,u),k(a,t),b(n,r,u),b(n,s,u),o.block.m(n,o.anchor=u),o.mount=function(){return s.parentNode},o.anchor=s},p:function(e,a){n=a,o.ctx=n,"pages"in e&&u!==(u=n.pages)&&c(u,o)||o.block.p(e,x(x({},n),o.resolved))},i:j,o:j,d:function(n){n&&(d(e),d(a),d(r),d(s)),o.block.d(n),o.token=null,o=null}}}function K(n){var e=n.params;n.query;return this.fetch("".concat(e.theuser,"/pages.json")).then(function(n){return n.json()}).then(function(n){return console.log(e),{pages:n}})}function N(n,e,a){var t,r=e.pages,s=void 0===r?[]:r,u=y(),o=(u.preloading,u.page);u.session;E(n,o,function(n){a("$page",t=n)});var c=e.username,i=void 0===c?t.params.theuser:c;return n.$set=function(n){"pages"in n&&a("pages",s=n.pages),"username"in n&&a("username",i=n.username)},{pages:s,page:o,username:i}}export default(function(c){function i(n){var o;return e(this,i),o=a(this,t(i).call(this)),r(u(o),n,N,I,s,["pages","username"]),o}return n(i,o),i}());export{K as preload};
