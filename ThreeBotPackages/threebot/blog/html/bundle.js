var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function r(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(t,n,e){t.$$.on_destroy.push(function(t,n){const e=t.subscribe(n);return e.unsubscribe?()=>e.unsubscribe():e}(n,e))}function c(t,n){t.appendChild(n)}function l(t,n,e){t.insertBefore(n,e||null)}function u(t){t.parentNode.removeChild(t)}function i(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function f(t){return document.createElement(t)}function p(t){return document.createTextNode(t)}function g(){return p(" ")}function d(){return p("")}function h(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}function m(t,n){n=""+n,t.data!==n&&(t.data=n)}let $;function b(t){$=t}function v(t){(function(){if(!$)throw new Error("Function called outside component initialization");return $})().$$.on_mount.push(t)}function x(){const t=$;return(n,e)=>{const o=t.$$.callbacks[n];if(o){const s=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);o.slice().forEach(n=>{n.call(t,s)})}}}const y=[],_=[],w=[],E=[],T=Promise.resolve();let k=!1;function C(t){w.push(t)}function O(){const t=new Set;do{for(;y.length;){const t=y.shift();b(t),S(t.$$)}for(;_.length;)_.pop()();for(let n=0;n<w.length;n+=1){const e=w[n];t.has(e)||(e(),t.add(e))}w.length=0}while(y.length);for(;E.length;)E.pop()();k=!1}function S(t){t.fragment&&(t.update(t.dirty),o(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(C))}const j=new Set;let L,N;function P(t,n){t&&t.i&&(j.delete(t),t.i(n))}function I(t,n,e,o){if(t&&t.o){if(j.has(t))return;j.add(t),L.c.push(()=>{j.delete(t),o&&(e&&t.d(1),o())}),t.o(n)}}function M(t,e,r){const{fragment:a,on_mount:c,on_destroy:l,after_update:u}=t.$$;a.m(e,r),C(()=>{const e=c.map(n).filter(s);l?l.push(...e):o(e),t.$$.on_mount=[]}),u.forEach(C)}function A(t,n){t.$$.fragment&&(o(t.$$.on_destroy),t.$$.fragment.d(n),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function B(t,n){t.$$.dirty||(y.push(t),k||(k=!0,T.then(O)),t.$$.dirty=e()),t.$$.dirty[n]=!0}function H(n,s,r,a,c,l){const u=$;b(n);const i=s.props||{},f=n.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:e(),dirty:null};let p=!1;var g;f.ctx=r?r(n,i,(t,e,o=e)=>(f.ctx&&c(f.ctx[t],f.ctx[t]=o)&&(f.bound[t]&&f.bound[t](o),p&&B(n,t)),e)):i,f.update(),p=!0,o(f.before_update),f.fragment=a(f.ctx),s.target&&(s.hydrate?f.fragment.l((g=s.target,Array.from(g.childNodes))):f.fragment.c(),s.intro&&P(n.$$.fragment),M(n,s.target,s.anchor),O()),b(u)}"undefined"!=typeof HTMLElement&&(N=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){for(const t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(t,n,e){this[t]=e}$destroy(){A(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}});class D{$destroy(){A(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function G(n){var e;return{c(){(e=f("div")).innerHTML='<nav class="navbar navbar-expand-lg navbar navbar-dark bg-dark"><a class="navbar-brand" href="#">Blog</a> <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button> <div class="collapse navbar-collapse" id="navbarText"><ul class="navbar-nav mr-auto"><li class="nav-item active"><a class="nav-link" href="/">\n\t\t\t            Home\n\t\t\t            <span class="sr-only">(current)</span></a></li></ul> <span class="navbar-text">Blog</span></div></nav>'},m(t,n){l(t,e,n)},p:t,i:t,o:t,d(t){t&&u(e)}}}class J extends D{constructor(t){super(),H(this,t,null,G,r,[])}}const q=[];function R(t,n){return{subscribe:F(t,n).subscribe}}function F(n,e=t){let o;const s=[];function a(t){if(r(n,t)&&(n=t,o)){const t=!q.length;for(let t=0;t<s.length;t+=1){const e=s[t];e[1](),q.push(e,n)}if(t){for(let t=0;t<q.length;t+=2)q[t][0](q[t+1]);q.length=0}}}return{set:a,update:function(t){a(t(n))},subscribe:function(r,c=t){const l=[r,c];return s.push(l),1===s.length&&(o=e(a)||t),r(n),()=>{const t=s.indexOf(l);-1!==t&&s.splice(t,1),0===s.length&&(o(),o=null)}}}}function z(n,e,r){const a=!Array.isArray(n),c=a?[n]:n,l=e.length<2;return R(r,n=>{let r=!1;const u=[];let i=0,f=t;const p=()=>{if(i)return;f();const o=e(a?u[0]:u,n);l?n(o):f=s(o)?o:t},g=c.map((t,n)=>t.subscribe(t=>{u[n]=t,i&=~(1<<n),r&&p()},()=>{i|=1<<n}));return r=!0,p(),function(){o(g),f()}})}function K(t){var n,e,s=t.component;function r(t){return{props:{params:t.componentParams}}}if(s)var a=new s(r(t));return{c(){a&&a.$$.fragment.c(),n=d()},m(t,o){a&&M(a,t,o),l(t,n,o),e=!0},p(t,e){var c={};if(t.componentParams&&(c.params=e.componentParams),s!==(s=e.component)){if(a){L={r:0,c:[],p:L};const t=a;I(t.$$.fragment,1,0,()=>{A(t,1)}),L.r||o(L.c),L=L.p}s?((a=new s(r(e))).$$.fragment.c(),P(a.$$.fragment,1),M(a,n.parentNode,n)):a=null}else s&&a.$set(c)},i(t){e||(a&&P(a.$$.fragment,t),e=!0)},o(t){a&&I(a.$$.fragment,t),e=!1},d(t){t&&u(n),a&&A(a,t)}}}function Q(){const t=window.location.href.indexOf("#/");let n=t>-1?window.location.href.substr(t+1):"/";const e=n.indexOf("?");let o="";return e>-1&&(o=n.substr(e+1),n=n.substr(0,e)),{location:n,querystring:o}}const U=R(Q(),function(t){const n=()=>{t(Q())};return window.addEventListener("hashchange",n,!1),function(){window.removeEventListener("hashchange",n,!1)}});z(U,t=>t.location),z(U,t=>t.querystring);function V(t,n,e){let o;a(t,U,t=>{e("$loc",o=t)});let{routes:s={}}=n;class r{constructor(t,n){if(!t||"string"==typeof t&&(t.length<1||"/"!=t.charAt(0)&&"*"!=t.charAt(0))||"object"==typeof t&&!(t instanceof RegExp))throw Error('Invalid value for "path" argument');const{pattern:e,keys:o}=function(t,n){if(t instanceof RegExp)return{keys:!1,pattern:t};var e,o,s,r,a=[],c="",l=t.split("/");for(l[0]||l.shift();s=l.shift();)"*"===(e=s[0])?(a.push("wild"),c+="/(.*)"):":"===e?(o=s.indexOf("?",1),r=s.indexOf(".",1),a.push(s.substring(1,~o?o:~r?r:s.length)),c+=~o&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(c+=(~o?"?":"")+"\\"+s.substring(r))):c+="/"+s;return{keys:a,pattern:new RegExp("^"+c+(n?"(?=$|/)":"/?$"),"i")}}(t);this.path=t,this.component=n,this._pattern=e,this._keys=o}match(t){const n=this._pattern.exec(t);if(null===n)return null;if(!1===this._keys)return n;const e={};let o=0;for(;o<this._keys.length;)e[this._keys[o]]=n[++o]||null;return e}}const c=s instanceof Map?s:Object.entries(s),l=[];for(const[t,n]of c)l.push(new r(t,n));let u=null,i={};return t.$set=(t=>{"routes"in t&&e("routes",s=t.routes)}),t.$$.update=((t={component:1,$loc:1})=>{if(t.component||t.$loc){e("component",u=null);let t=0;for(;!u&&t<l.length;){const n=l[t].match(o.location);n&&(e("component",u=l[t].component),e("componentParams",i=n)),t++}}}),{routes:s,component:u,componentParams:i}}class W extends D{constructor(t){super(),H(this,t,V,K,r,["routes"])}}function X(n){var e,o,s;return{c(){(e=f("h2")).textContent="Not Found",o=g(),(s=f("h3")).textContent="Oops, this route doesn't exist!"},m(t,n){l(t,e,n),l(t,o,n),l(t,s,n)},p:t,i:t,o:t,d(t){t&&(u(e),u(o),u(s))}}}let Y,Z=F(new class{getPosts(t){let n={namespace:"default",actor:"blog",command:"get_posts",args:{blog:t},headers:{response_type:"json",content_type:"json"}};return console.log(n),GEDIS_CLIENT.execute(n)}getMeta(t){let n={namespace:"default",actor:"blog",command:"get_metadata",args:{blog:t},headers:{response_type:"json",content_type:"json"}};GEDIS_CLIENT.execute(n).then(t=>JSON.parse(t)).catch(t=>console.log(t))}getPostsByTag(t,n){let e={namespace:"default",actor:"blog",command:"get_posts_by_tag",args:{blog:t,tag:n},headers:{response_type:"json",content_type:"json"}};console.log(e),GEDIS_CLIENT.execute(e).then(t=>JSON.parse(t)).catch(t=>console.log(t))}getTags(t){console.log(`blog is ${t}`);let n={namespace:"default",actor:"blog",command:"get_tags",args:{blog:t},headers:{response_type:"json",content_type:"json"}};console.log(n),GEDIS_CLIENT.execute(n).then(t=>JSON.parse(t)).catch(t=>console.log(t))}});function tt(t,n,e){const o=Object.create(t);return o.tag=n[e],o}function nt(n){var e;return{c(){(e=f("div")).textContent="Loading Tags..."},m(t,n){l(t,e,n)},p:t,d(t){t&&u(e)}}}function et(t){var n;let e=t.tags,o=[];for(let n=0;n<e.length;n+=1)o[n]=ot(tt(t,e,n));return{c(){n=f("div");for(let t=0;t<o.length;t+=1)o[t].c();h(n,"classname","tag-list")},m(t,e){l(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,s){if(t.tags){let r;for(e=s.tags,r=0;r<e.length;r+=1){const a=tt(s,e,r);o[r]?o[r].p(t,a):(o[r]=ot(a),o[r].c(),o[r].m(n,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=e.length}},d(t){t&&u(n),i(o,t)}}}function ot(t){var n,e,o,s,r=t.tag+"";function a(){return t.click_handler(t)}return{c(){var t,c,l,u;n=f("a"),e=p(r),o=g(),h(n,"href","."),h(n,"class","tag-default tag-pill"),c="click",l=a,(t=n).addEventListener(c,l,u),s=(()=>t.removeEventListener(c,l,u))},m(t,s){l(t,n,s),c(n,e),c(n,o)},p(n,o){t=o,n.tags&&r!==(r=t.tag+"")&&m(e,r)},d(t){t&&u(n),s()}}}function st(n){var e;function o(t,n){return n.tags?et:nt}var s=o(0,n),r=s(n);return{c(){r.c(),e=d()},m(t,n){r.m(t,n),l(t,e,n)},p(t,n){s===(s=o(0,n))&&r?r.p(t,n):(r.d(1),(r=s(n))&&(r.c(),r.m(e.parentNode,e)))},i:t,o:t,d(t){r.d(t),t&&u(e)}}}function rt(t,n,e){let{tags:o}=n;const s=x();return t.$set=(t=>{"tags"in t&&e("tags",o=t.tags)}),{tags:o,dispatch:s,click_handler:({tag:t})=>s("select",{tag:t})}}class at extends D{constructor(t){super(),H(this,t,rt,st,r,["tags"])}}function ct(t,n,e){const o=Object.create(t);return o.post=n[e],o}function lt(t){var n;return{c(){(n=f("div")).innerHTML="<p>no posts yet..</p> ",h(n,"class","row")},m(t,e){l(t,n,e)},d(t){t&&u(n)}}}function ut(t){var n,e,o,s,r,a,i=t.post.title+"";return{c(){n=f("div"),e=f("a"),o=f("h1"),s=p(i),a=g(),h(e,"rel","prefetch"),h(e,"href",r="blog/"+t.post.slug),h(n,"class","row")},m(t,r){l(t,n,r),c(n,e),c(e,o),c(o,s),c(n,a)},p(t,n){t.posts&&i!==(i=n.post.title+"")&&m(s,i),t.posts&&r!==(r="blog/"+n.post.slug)&&h(e,"href",r)},d(t){t&&u(n)}}}function it(t){var n,e,o,s,r,a,p,d,m;let $=t.posts,b=[];for(let n=0;n<$.length;n+=1)b[n]=ut(ct(t,$,n));let v=null;$.length||(v=lt()).c();var x=new at({props:{tags:t.tags}});return{c(){n=g(),e=f("div"),o=f("div");for(let t=0;t<b.length;t+=1)b[t].c();s=g(),r=f("div"),a=f("div"),(p=f("h2")).textContent="Popular Tags",d=g(),x.$$.fragment.c(),document.title="Blog main",h(o,"class","col-md-9 pull-xs-left"),h(a,"class","sidebar"),h(r,"class","col-md-3 pull-xs-right"),h(e,"class","row")},m(t,u){l(t,n,u),l(t,e,u),c(e,o);for(let t=0;t<b.length;t+=1)b[t].m(o,null);v&&v.m(o,null),c(e,s),c(e,r),c(r,a),c(a,p),c(a,d),M(x,a,null),m=!0},p(t,n){if(t.posts){let e;for($=n.posts,e=0;e<$.length;e+=1){const s=ct(n,$,e);b[e]?b[e].p(t,s):(b[e]=ut(s),b[e].c(),b[e].m(o,null))}for(;e<b.length;e+=1)b[e].d(1);b.length=$.length}$.length?v&&(v.d(1),v=null):v||((v=lt()).c(),v.m(o,null))},i(t){m||(P(x.$$.fragment,t),m=!0)},o(t){I(x.$$.fragment,t),m=!1},d(t){t&&(u(n),u(e)),i(b,t),v&&v.d(),A(x)}}}function ft(t,n,e){let o;a(t,Z,t=>{e("$blogStore",o=t)});let s=[],r=[];return v(()=>{o.getPosts(blog_name).then(t=>{e("posts",s=JSON.parse(t))}),console.log("POSTS: ",s),console.log("TAGS: ",r)}),{posts:s,tags:r}}function pt(t,n,e){const o=Object.create(t);return o.tag=n[e],o.idx=e,o}function gt(t){var n,e,o,s,r,a=t.tag+"";return{c(){n=f("span"),e=f("i"),o=g(),s=p(a),r=g(),h(e,"class","ion-close-round"),h(n,"class","tag-default tag-pill")},m(t,a){l(t,n,a),c(n,e),c(n,o),c(n,s),c(n,r)},p(t,n){t.post&&a!==(a=n.tag+"")&&m(s,a)},d(t){t&&u(n)}}}function dt(n){var e,o,s,r,a,d,$,b,v,x,y,_,w,E,T,k,C,O=n.post.title+"",S=n.post.content+"";document.title=e="Blog main "+n.slug;let j=n.post.tags,L=[];for(let t=0;t<j.length;t+=1)L[t]=gt(pt(n,j,t));return{c(){o=g(),s=f("div"),r=f("div"),(a=f("span")).textContent="POST DATE",d=g(),$=f("div");for(let t=0;t<L.length;t+=1)L[t].c();b=g(),v=f("div"),x=f("h1"),y=f("i"),_=p(O),w=g(),E=f("hr"),T=g(),k=f("div"),C=f("div"),h(a,"class","date"),h($,"class","tag-list"),h(v,"class","article-item-title article-item-label content")},m(t,n){l(t,o,n),l(t,s,n),c(s,r),c(r,a),c(r,d),c(r,$);for(let t=0;t<L.length;t+=1)L[t].m($,null);c(r,b),c(r,v),c(v,x),c(x,y),c(y,_),c(v,w),c(v,E),c(s,T),c(s,k),c(k,C),C.innerHTML=S},p(t,n){if(t.slug&&e!==(e="Blog main "+n.slug)&&(document.title=e),t.post){let e;for(j=n.post.tags,e=0;e<j.length;e+=1){const o=pt(n,j,e);L[e]?L[e].p(t,o):(L[e]=gt(o),L[e].c(),L[e].m($,null))}for(;e<L.length;e+=1)L[e].d(1);L.length=j.length}t.post&&O!==(O=n.post.title+"")&&m(_,O),t.post&&S!==(S=n.post.content+"")&&(C.innerHTML=S)},i:t,o:t,d(t){t&&(u(o),u(s)),i(L,t)}}}function ht(t,n,e){let o,{slug:s}=n;v(()=>e("post",o=Z.getPost(blog_name,s)));new showdown.Converter;return t.$set=(t=>{"slug"in t&&e("slug",s=t.slug)}),{slug:s,post:o}}(Y=new Map).set("/",class extends D{constructor(t){super(),H(this,t,ft,it,r,[])}}),Y.set("/:postId",class extends D{constructor(t){super(),H(this,t,ht,dt,r,["slug"])}}),Y.set("*",class extends D{constructor(t){super(),H(this,t,null,X,r,[])}});var mt=Y;function $t(n){var e,o,s,r,a,i,p=new J({}),d=new W({props:{routes:mt}});return{c(){e=f("div"),p.$$.fragment.c(),o=g(),s=f("div"),(r=f("div")).textContent="blog",a=g(),d.$$.fragment.c(),h(r,"class","m-3 text-center"),h(s,"class","container-fluid")},m(t,n){l(t,e,n),M(p,e,null),l(t,o,n),l(t,s,n),c(s,r),c(s,a),M(d,s,null),i=!0},p:t,i(t){i||(P(p.$$.fragment,t),P(d.$$.fragment,t),i=!0)},o(t){I(p.$$.fragment,t),I(d.$$.fragment,t),i=!1},d(t){t&&u(e),A(p),t&&(u(o),u(s)),A(d)}}}return new class extends D{constructor(t){super(),H(this,t,null,$t,r,[])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
